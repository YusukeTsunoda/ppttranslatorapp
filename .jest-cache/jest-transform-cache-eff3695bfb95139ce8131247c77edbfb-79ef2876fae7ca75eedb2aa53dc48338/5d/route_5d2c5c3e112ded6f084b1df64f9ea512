7fa35e9b6dc3d16d6be1a805bf86b9c2
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    GET: function() {
        return GET;
    },
    dynamic: function() {
        return dynamic;
    }
});
const _nextauth = require("next-auth");
const _server = require("next/server");
const _authoptions = require("@/lib/auth/auth-options");
const dynamic = 'force-dynamic';
async function GET() {
    try {
        const session = await (0, _nextauth.getServerSession)(_authoptions.authOptions);
        return _server.NextResponse.json({
            user: (session === null || session === void 0 ? void 0 : session.user) || null
        });
    } catch (error) {
        console.error('Error in session API:', error);
        return _server.NextResponse.json({
            user: null
        });
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXN1a2V0c3Vub2RhL0RvY3VtZW50cy9jdXJzb3IvcHB0dHJhbnNsYXRvcmFwcC93b3JrdHJlZXMvY2ljZC1zZXR1cC9hcHAvYXBpL2F1dGgvc2Vzc2lvbi9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aC9hdXRoLW9wdGlvbnMnO1xuXG4vLyDpnZnnmoTjg6zjg7Pjg4Djg6rjg7PjgrDjgpLnhKHlirnljJZcbmV4cG9ydCBjb25zdCBkeW5hbWljID0gJ2ZvcmNlLWR5bmFtaWMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyB1c2VyOiBzZXNzaW9uPy51c2VyIHx8IG51bGwgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gc2Vzc2lvbiBBUEk6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IHVzZXI6IG51bGwgfSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJHRVQiLCJkeW5hbWljIiwic2Vzc2lvbiIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsIk5leHRSZXNwb25zZSIsImpzb24iLCJ1c2VyIiwiZXJyb3IiLCJjb25zb2xlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztJQU9zQkEsR0FBRztlQUFIQTs7SUFGVEMsT0FBTztlQUFQQTs7OzBCQUxvQjt3QkFDSjs2QkFDRDtBQUdyQixNQUFNQSxVQUFVO0FBRWhCLGVBQWVEO0lBQ3BCLElBQUk7UUFDRixNQUFNRSxVQUFVLE1BQU1DLElBQUFBLDBCQUFnQixFQUFDQyx3QkFBVztRQUNsRCxPQUFPQyxvQkFBWSxDQUFDQyxJQUFJLENBQUM7WUFBRUMsTUFBTUwsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTSyxJQUFJLEtBQUk7UUFBSztJQUN6RCxFQUFFLE9BQU9DLE9BQU87UUFDZEMsUUFBUUQsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT0gsb0JBQVksQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLE1BQU07UUFBSztJQUN4QztBQUNGIn0=