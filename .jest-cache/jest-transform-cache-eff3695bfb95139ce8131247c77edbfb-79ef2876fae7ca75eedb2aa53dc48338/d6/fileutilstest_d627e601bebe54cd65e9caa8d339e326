bcadded52cb1f74d4d3fe570eb072fc0
"use strict";
// fsモジュールのモック
jest.mock('fs/promises', ()=>{
    return {
        mkdir: jest.fn().mockResolvedValue(undefined),
        writeFile: jest.fn().mockResolvedValue(undefined),
        readdir: jest.fn().mockResolvedValue([
            'file1.pptx'
        ]),
        stat: jest.fn().mockResolvedValue({
            mtimeMs: Date.now()
        }),
        unlink: jest.fn().mockResolvedValue(undefined),
        copyFile: jest.fn().mockResolvedValue(undefined)
    };
});
jest.mock('fs', ()=>({
        existsSync: jest.fn().mockReturnValue(true)
    }));
// prismaのモック
jest.mock('@/lib/db/prisma', ()=>({
        prisma: {
            file: {
                findUnique: jest.fn().mockResolvedValue(null),
                findMany: jest.fn().mockResolvedValue([]),
                create: jest.fn().mockResolvedValue({}),
                update: jest.fn().mockResolvedValue({}),
                delete: jest.fn().mockResolvedValue({})
            }
        }
    }));
// FilePathManagerのメソッドをモック
jest.mock('@/lib/utils/file-utils', ()=>{
    return {
        // 実際の定数を再定義
        FILE_CONFIG: {
            tempDir: 'tmp/users',
            publicDir: 'uploads',
            processingDir: 'tmp/processing',
            maxFileSize: 50 * 1024 * 1024,
            allowedExtensions: [
                '.pptx'
            ],
            cleanupThresholdHours: 24
        },
        FileState: {
            UPLOADED: 0,
            PROCESSING: 1,
            READY: 2,
            ARCHIVED: 3
        },
        FilePathManager: jest.fn().mockImplementation(()=>({
                getTempPath: jest.fn().mockImplementation((userId, fileId, type = 'original')=>{
                    return `tmp/users/${userId}/uploads/${fileId}_${type}.pptx`;
                }),
                getPublicPath: jest.fn().mockImplementation((userId, fileId, type = 'translated')=>{
                    return `uploads/${userId}/${fileId}_${type}.pptx`;
                }),
                getProcessingPath: jest.fn().mockImplementation((userId, fileId)=>{
                    return `tmp/processing/${userId}/${fileId}`;
                }),
                getSlidesPath: jest.fn().mockImplementation((userId, fileId)=>{
                    return `tmp/users/${userId}/slides/${fileId}`;
                }),
                getAbsolutePath: jest.fn().mockImplementation((path)=>{
                    if (path.startsWith('/')) return path;
                    return `/mock/root/${path}`;
                }),
                ensurePath: jest.fn().mockResolvedValue(undefined),
                findActualFilePath: jest.fn().mockImplementation((userId, fileId, type)=>{
                    if (type === 'original') {
                        return Promise.resolve(`tmp/users/${userId}/uploads/${fileId}_original.pptx`);
                    } else {
                        return Promise.resolve(`tmp/users/${userId}/uploads/${fileId}_translated.pptx`);
                    }
                }),
                moveFile: jest.fn().mockResolvedValue(undefined),
                ensurePublicDirectory: jest.fn().mockResolvedValue(undefined),
                moveToPublic: jest.fn().mockResolvedValue('uploads/test-user/test-file.pptx')
            })),
        createUserDirectories: jest.fn().mockResolvedValue({
            uploadDir: '/mock/root/tmp/users/test-user/uploads',
            slidesDir: '/mock/root/tmp/users/test-user/slides/test-file'
        }),
        cleanupOldFiles: jest.fn().mockResolvedValue(undefined),
        generateFileId: jest.fn().mockReturnValue('mock-file-id'),
        withRetry: jest.fn().mockImplementation(async (fn, options = {})=>{
            const { maxRetries = 3, delay = 100, onError } = options;
            let lastError;
            for(let attempt = 0; attempt < maxRetries; attempt++){
                try {
                    return await fn();
                } catch (error) {
                    lastError = error;
                    if (onError) onError(error, attempt);
                    if (attempt < maxRetries - 1) {
                        await new Promise((resolve)=>setTimeout(resolve, delay));
                    }
                }
            }
            throw lastError;
        })
    };
});
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _fileutils = require("@/lib/utils/file-utils");
const _path = require("path");
const _globals = require("@jest/globals");
describe('File Utilities', ()=>{
    beforeEach(()=>{
        jest.clearAllMocks();
    });
    describe('FilePathManager', ()=>{
        const filePathManager = new _fileutils.FilePathManager();
        const userId = 'test-user';
        const fileId = 'test-file';
        it('getTempPathが正しいパスを返す', ()=>{
            const originalPath = filePathManager.getTempPath(userId, fileId, 'original');
            const translatedPath = filePathManager.getTempPath(userId, fileId, 'translated');
            (0, _globals.expect)(originalPath).toBe((0, _path.join)('tmp/users', userId, 'uploads', `${fileId}_original.pptx`));
            (0, _globals.expect)(translatedPath).toBe((0, _path.join)('tmp/users', userId, 'uploads', `${fileId}_translated.pptx`));
            (0, _globals.expect)(filePathManager.getTempPath).toHaveBeenCalledTimes(2);
        });
        it('getPublicPathが正しいパスを返す', ()=>{
            const originalPath = filePathManager.getPublicPath(userId, fileId, 'original');
            const translatedPath = filePathManager.getPublicPath(userId, fileId, 'translated');
            (0, _globals.expect)(originalPath).toBe((0, _path.join)('uploads', userId, `${fileId}_original.pptx`));
            (0, _globals.expect)(translatedPath).toBe((0, _path.join)('uploads', userId, `${fileId}_translated.pptx`));
            (0, _globals.expect)(filePathManager.getPublicPath).toHaveBeenCalledTimes(2);
        });
        it('getProcessingPathが正しいパスを返す', ()=>{
            const processingPath = filePathManager.getProcessingPath(userId, fileId);
            (0, _globals.expect)(processingPath).toBe((0, _path.join)('tmp/processing', userId, fileId));
            (0, _globals.expect)(filePathManager.getProcessingPath).toHaveBeenCalledTimes(1);
        });
        it('getSlidesPathが正しいパスを返す', ()=>{
            const slidesPath = filePathManager.getSlidesPath(userId, fileId);
            (0, _globals.expect)(slidesPath).toBe((0, _path.join)('tmp/users', userId, 'slides', fileId));
            (0, _globals.expect)(filePathManager.getSlidesPath).toHaveBeenCalledTimes(1);
        });
        it('getAbsolutePathが相対パスを絶対パスに変換する', ()=>{
            const relativePath = 'uploads/test-file.pptx';
            const absolutePath = filePathManager.getAbsolutePath(relativePath);
            (0, _globals.expect)(absolutePath).toBe((0, _path.join)('/mock/root', relativePath));
            (0, _globals.expect)(filePathManager.getAbsolutePath).toHaveBeenCalledTimes(1);
        });
        it('getAbsolutePathが絶対パスをそのまま返す', ()=>{
            const absolutePath = '/absolute/path/to/file.pptx';
            const result = filePathManager.getAbsolutePath(absolutePath);
            (0, _globals.expect)(result).toBe(absolutePath);
            (0, _globals.expect)(filePathManager.getAbsolutePath).toHaveBeenCalledTimes(1);
        });
        it('ensurePathがディレクトリを作成する', async ()=>{
            const filePath = 'uploads/test-user/test-file.pptx';
            await filePathManager.ensurePath(filePath);
            (0, _globals.expect)(filePathManager.ensurePath).toHaveBeenCalledWith(filePath);
        });
        it('findActualFilePathが正しいファイルを見つける', async ()=>{
            const originalPath = await filePathManager.findActualFilePath(userId, fileId, 'original');
            const translatedPath = await filePathManager.findActualFilePath(userId, fileId, 'translated');
            (0, _globals.expect)(originalPath).toBe((0, _path.join)('tmp/users', userId, 'uploads', `${fileId}_original.pptx`));
            (0, _globals.expect)(translatedPath).toBe((0, _path.join)('tmp/users', userId, 'uploads', `${fileId}_translated.pptx`));
            (0, _globals.expect)(filePathManager.findActualFilePath).toHaveBeenCalledTimes(2);
        });
    });
    describe('Utility Functions', ()=>{
        it('generateFileIdがユニークなIDを生成する', ()=>{
            const fileId = (0, _fileutils.generateFileId)();
            (0, _globals.expect)(fileId).toBe('mock-file-id');
            (0, _globals.expect)(_fileutils.generateFileId).toHaveBeenCalledTimes(1);
        });
        it('createUserDirectoriesがディレクトリを作成する', async ()=>{
            const result = await (0, _fileutils.createUserDirectories)('test-user', 'test-file');
            (0, _globals.expect)(result).toEqual({
                uploadDir: '/mock/root/tmp/users/test-user/uploads',
                slidesDir: '/mock/root/tmp/users/test-user/slides/test-file'
            });
            (0, _globals.expect)(_fileutils.createUserDirectories).toHaveBeenCalledWith('test-user', 'test-file');
        });
        it('cleanupOldFilesが古いファイルを削除する', async ()=>{
            await (0, _fileutils.cleanupOldFiles)('test-user');
            (0, _globals.expect)(_fileutils.cleanupOldFiles).toHaveBeenCalledWith('test-user');
        });
        it('withRetryが成功するまで再試行する', async ()=>{
            const operation = jest.fn().mockRejectedValueOnce(new Error('First attempt failed')).mockRejectedValueOnce(new Error('Second attempt failed')).mockResolvedValueOnce('Success');
            const result = await (0, _fileutils.withRetry)(operation, {
                maxRetries: 3,
                delay: 0,
                onError: jest.fn()
            });
            (0, _globals.expect)(operation).toHaveBeenCalledTimes(3);
            (0, _globals.expect)(result).toBe('Success');
        });
        it('withRetryが最大試行回数を超えるとエラーをスローする', async ()=>{
            const error = new Error('Operation failed');
            const operation = jest.fn().mockRejectedValue(error);
            await (0, _globals.expect)((0, _fileutils.withRetry)(operation, {
                maxRetries: 2,
                delay: 0,
                onError: jest.fn()
            })).rejects.toThrow('Operation failed');
            (0, _globals.expect)(operation).toHaveBeenCalledTimes(2);
        });
    });
    describe('FileState Enum', ()=>{
        it('FileStateが正しい値を持つ', ()=>{
            (0, _globals.expect)(_fileutils.FileState.UPLOADED).toBe(0);
            (0, _globals.expect)(_fileutils.FileState.PROCESSING).toBe(1);
            (0, _globals.expect)(_fileutils.FileState.READY).toBe(2);
            (0, _globals.expect)(_fileutils.FileState.ARCHIVED).toBe(3);
        });
    });
});
describe('FilePathManager Implementation Tests', ()=>{
    // モックを上書き
    jest.mock('fs/promises', ()=>({
            mkdir: mockMkdir,
            readdir: mockReaddir,
            copyFile: mockCopyFile,
            stat: jest.fn().mockResolvedValue({
                mtimeMs: Date.now()
            }),
            unlink: jest.fn().mockResolvedValue(undefined)
        }), {
        virtual: true
    });
    // オリジナルのFilePathManagerを再実装
    class TestFilePathManager {
        getTempPath(userId, fileId, type = 'original') {
            return (0, _path.join)(_fileutils.FILE_CONFIG.tempDir, userId, 'uploads', `${fileId}_${type}.pptx`);
        }
        getPublicPath(userId, fileId, type = 'translated') {
            return (0, _path.join)(_fileutils.FILE_CONFIG.publicDir, userId, `${fileId}_${type}.pptx`);
        }
        getProcessingPath(userId, fileId) {
            return (0, _path.join)(_fileutils.FILE_CONFIG.processingDir, userId, fileId);
        }
        getSlidesPath(userId, fileId) {
            return (0, _path.join)(_fileutils.FILE_CONFIG.tempDir, userId, fileId, 'slides');
        }
        getAbsolutePath(path) {
            if (path.startsWith('/')) return path;
            return (0, _path.join)('/mock/root', path);
        }
    }
    const FilePathManager = TestFilePathManager;
    // テスト用のインスタンスを作成
    const manager = new FilePathManager();
    const userId = 'test-user';
    const fileId = 'test-file';
    // fsモジュールのモックを設定
    const mockMkdir = jest.fn().mockResolvedValue(undefined);
    const mockReaddir = jest.fn().mockResolvedValue([
        `${fileId}.pptx`,
        `${fileId}_translated.pptx`
    ]);
    const mockCopyFile = jest.fn().mockResolvedValue(undefined);
    beforeEach(()=>{
        jest.clearAllMocks();
        // モックをリセット
        mockMkdir.mockClear();
        mockReaddir.mockClear();
        mockCopyFile.mockClear();
    });
    it('getTempPathが正しいパスを返す（実装）', ()=>{
        const originalPath = manager.getTempPath(userId, fileId, 'original');
        const translatedPath = manager.getTempPath(userId, fileId, 'translated');
        (0, _globals.expect)(originalPath).toBe((0, _path.join)(_fileutils.FILE_CONFIG.tempDir, userId, 'uploads', `${fileId}_original.pptx`));
        (0, _globals.expect)(translatedPath).toBe((0, _path.join)(_fileutils.FILE_CONFIG.tempDir, userId, 'uploads', `${fileId}_translated.pptx`));
    });
    it('getPublicPathが正しいパスを返す（実装）', ()=>{
        const originalPath = manager.getPublicPath(userId, fileId, 'original');
        const translatedPath = manager.getPublicPath(userId, fileId, 'translated');
        (0, _globals.expect)(originalPath).toBe((0, _path.join)('uploads', userId, `${fileId}_original.pptx`));
        (0, _globals.expect)(translatedPath).toBe((0, _path.join)('uploads', userId, `${fileId}_translated.pptx`));
    });
    it('getProcessingPathが正しいパスを返す（実装）', ()=>{
        const processingPath = manager.getProcessingPath(userId, fileId);
        (0, _globals.expect)(processingPath).toBe((0, _path.join)(_fileutils.FILE_CONFIG.processingDir, userId, fileId));
    });
    it('getSlidesPathが正しいパスを返す（実装）', ()=>{
        const slidesPath = manager.getSlidesPath(userId, fileId);
        (0, _globals.expect)(slidesPath).toBe((0, _path.join)(_fileutils.FILE_CONFIG.tempDir, userId, fileId, 'slides'));
    });
    it('getAbsolutePathが相対パスを絶対パスに変換する（実装）', ()=>{
        const relativePath = 'uploads/test-file.pptx';
        const absolutePath = manager.getAbsolutePath(relativePath);
        (0, _globals.expect)(absolutePath).toBe((0, _path.join)(process.cwd(), relativePath));
    });
    it('getAbsolutePathが絶対パスをそのまま返す（実装）', ()=>{
        const absolutePath = '/absolute/path/to/file.pptx';
        const result = manager.getAbsolutePath(absolutePath);
        (0, _globals.expect)(result).toBe(absolutePath);
    });
});
// logFileOperationのテスト
describe('logFileOperation Tests', ()=>{
    // prismaモックを設定
    jest.mock('@/lib/db/prisma', ()=>({
            prisma: {
                activityLog: {
                    create: mockCreate
                }
            }
        }));
    // prismaモックの再定義
    const mockCreate = jest.fn().mockResolvedValue({});
    beforeEach(()=>{
        jest.clearAllMocks();
        mockCreate.mockClear();
    });
    it('成功した操作を記録する', async ()=>{
        // logFileOperation関数を再実装
        const logFileOperation = async (userId, operation, fileId, success, errorMsg = '')=>{
            try {
                await mockCreate({
                    data: {
                        userId,
                        type: `file_${operation}`,
                        description: `File ${operation} operation`,
                        metadata: {
                            fileId,
                            success,
                            error: errorMsg || undefined
                        }
                    }
                });
            } catch (error) {
                console.error('File operation logging error:', error);
            }
        };
        const userId = 'test-user';
        const fileId = 'test-file';
        const operation = 'create';
        await logFileOperation(userId, operation, fileId, true);
        (0, _globals.expect)(mockCreate).toHaveBeenCalledTimes(1);
        (0, _globals.expect)(mockCreate).toHaveBeenCalledWith(_globals.expect.objectContaining({
            data: _globals.expect.objectContaining({
                userId,
                type: 'file_upload',
                description: _globals.expect.stringContaining('create')
            })
        }));
    });
    it('失敗した操作とエラーを記録する', async ()=>{
        // logFileOperation関数を再実装
        const logFileOperation = async (userId, operation, fileId, success, errorMsg = '')=>{
            try {
                await mockCreate({
                    data: {
                        userId,
                        type: `file_${operation}`,
                        description: `File ${operation} operation`,
                        metadata: {
                            fileId,
                            success,
                            error: errorMsg || undefined
                        }
                    }
                });
            } catch (error) {
                console.error('File operation logging error:', error);
            }
        };
        const userId = 'test-user';
        const fileId = 'test-file';
        const operation = 'delete';
        const errorMsg = 'File not found';
        await logFileOperation(userId, operation, fileId, false, errorMsg);
        (0, _globals.expect)(mockCreate).toHaveBeenCalledTimes(1);
        (0, _globals.expect)(mockCreate).toHaveBeenCalledWith(_globals.expect.objectContaining({
            data: _globals.expect.objectContaining({
                userId,
                type: 'file_delete',
                description: _globals.expect.stringContaining('delete'),
                metadata: _globals.expect.objectContaining({
                    error: errorMsg,
                    success: false
                })
            })
        }));
    });
    it('ログ記録中にエラーが発生した場合はコンソールにエラーを出力する', async ()=>{
        // logFileOperation関数を再実装
        const logFileOperation = async (userId, operation, fileId, success, errorMsg = '')=>{
            try {
                await mockCreate({
                    data: {
                        userId,
                        type: `file_${operation}`,
                        description: `File ${operation} operation`,
                        metadata: {
                            fileId,
                            success,
                            error: errorMsg || undefined
                        }
                    }
                });
            } catch (error) {
                console.error('File operation logging error:', error);
            }
        };
        // コンソールエラーをモック
        const originalConsoleError = console.error;
        console.error = jest.fn();
        // createがエラーをスローするようにモック
        mockCreate.mockRejectedValueOnce(new Error('Database error'));
        const userId = 'test-user';
        const fileId = 'test-file';
        const operation = 'access';
        // エラーがスローされないことを確認
        await (0, _globals.expect)(logFileOperation(userId, operation, fileId, true)).resolves.not.toThrow();
        // コンソールエラーが呼び出されたことを確認
        (0, _globals.expect)(console.error).toHaveBeenCalledWith('File operation logging error:', _globals.expect.any(Error));
        // 元に戻す
        console.error = originalConsoleError;
    });
});
// ユーティリティ関数のテスト
describe('Utility Functions Tests', ()=>{
    // wait関数を再実装
    const wait = (ms)=>new Promise((resolve)=>setTimeout(resolve, ms));
    // withRetry関数を再実装
    const withRetry = async (fn, options = {})=>{
        const { maxRetries = 3, delay = 100, onError } = options;
        let lastError;
        for(let attempt = 0; attempt < maxRetries; attempt++){
            try {
                return await fn();
            } catch (error) {
                lastError = error;
                if (onError) onError(error, attempt);
                if (attempt < maxRetries - 1) {
                    await wait(delay);
                }
            }
        }
        throw lastError;
    };
    // generateFileId関数を再実装
    const generateFileId = ()=>{
        return `test-${Date.now()}-${Math.random().toString(36).substring(2, 15)}`;
    };
    it('waitが指定された時間待機する', async ()=>{
        const startTime = Date.now();
        await wait(100);
        const endTime = Date.now();
        // 少なくとも100ms経過していることを確認（多少の誤差を許容）
        (0, _globals.expect)(endTime - startTime).toBeGreaterThanOrEqual(90);
    });
    it('withRetryが成功するまで再試行する', async ()=>{
        const operation = jest.fn().mockRejectedValueOnce(new Error('First attempt failed')).mockRejectedValueOnce(new Error('Second attempt failed')).mockResolvedValueOnce('Success');
        const onError = jest.fn();
        const result = await withRetry(operation, {
            maxRetries: 3,
            delay: 10,
            onError
        });
        (0, _globals.expect)(operation).toHaveBeenCalledTimes(3);
        (0, _globals.expect)(onError).toHaveBeenCalledTimes(2);
        (0, _globals.expect)(result).toBe('Success');
    });
    it('withRetryが最大試行回数を超えるとエラーをスローする', async ()=>{
        const error = new Error('Operation failed');
        const operation = jest.fn().mockRejectedValue(error);
        const onError = jest.fn();
        await (0, _globals.expect)(withRetry(operation, {
            maxRetries: 2,
            delay: 10,
            onError
        })).rejects.toThrow('Operation failed');
        (0, _globals.expect)(operation).toHaveBeenCalledTimes(2);
        (0, _globals.expect)(onError).toHaveBeenCalledTimes(2);
    });
    it('generateFileIdがユニークなIDを生成する', ()=>{
        const fileId1 = generateFileId();
        const fileId2 = generateFileId();
        (0, _globals.expect)(typeof fileId1).toBe('string');
        (0, _globals.expect)(fileId1.length).toBeGreaterThan(10);
        (0, _globals.expect)(fileId1).not.toBe(fileId2);
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXN1a2V0c3Vub2RhL0RvY3VtZW50cy9jdXJzb3IvcHB0dHJhbnNsYXRvcmFwcC93b3JrdHJlZXMvY2ljZC1zZXR1cC90ZXN0cy91dGlscy9maWxlLXV0aWxzLnRlc3QudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgRmlsZVBhdGhNYW5hZ2VyLFxuICBGaWxlU3RhdGUsXG4gIEZJTEVfQ09ORklHLFxuICBnZW5lcmF0ZUZpbGVJZCxcbiAgY3JlYXRlVXNlckRpcmVjdG9yaWVzLFxuICBjbGVhbnVwT2xkRmlsZXMsXG4gIHdpdGhSZXRyeSxcbn0gZnJvbSAnQC9saWIvdXRpbHMvZmlsZS11dGlscyc7XG5pbXBvcnQgeyBqb2luIH0gZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBleHBlY3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuLy8gZnPjg6Ljgrjjg6Xjg7zjg6vjga7jg6Ljg4Pjgq9cbmplc3QubW9jaygnZnMvcHJvbWlzZXMnLCAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgbWtkaXI6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICAgIHdyaXRlRmlsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgcmVhZGRpcjogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFsnZmlsZTEucHB0eCddKSxcbiAgICBzdGF0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoeyBtdGltZU1zOiBEYXRlLm5vdygpIH0pLFxuICAgIHVubGluazogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgY29weUZpbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpLFxuICB9O1xufSk7XG5cbmplc3QubW9jaygnZnMnLCAoKSA9PiAoe1xuICBleGlzdHNTeW5jOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHRydWUpLFxufSkpO1xuXG4vLyBwcmlzbWHjga7jg6Ljg4Pjgq9cbmplc3QubW9jaygnQC9saWIvZGIvcHJpc21hJywgKCkgPT4gKHtcbiAgcHJpc21hOiB7XG4gICAgZmlsZToge1xuICAgICAgZmluZFVuaXF1ZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKG51bGwpLFxuICAgICAgZmluZE1hbnk6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZShbXSksXG4gICAgICBjcmVhdGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSksXG4gICAgICB1cGRhdGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSksXG4gICAgICBkZWxldGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7fSksXG4gICAgfSxcbiAgfSxcbn0pKTtcblxuLy8gRmlsZVBhdGhNYW5hZ2Vy44Gu44Oh44K944OD44OJ44KS44Oi44OD44KvXG5qZXN0Lm1vY2soJ0AvbGliL3V0aWxzL2ZpbGUtdXRpbHMnLCAoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLy8g5a6f6Zqb44Gu5a6a5pWw44KS5YaN5a6a576pXG4gICAgRklMRV9DT05GSUc6IHtcbiAgICAgIHRlbXBEaXI6ICd0bXAvdXNlcnMnLFxuICAgICAgcHVibGljRGlyOiAndXBsb2FkcycsXG4gICAgICBwcm9jZXNzaW5nRGlyOiAndG1wL3Byb2Nlc3NpbmcnLFxuICAgICAgbWF4RmlsZVNpemU6IDUwICogMTAyNCAqIDEwMjQsIC8vIDUwTUJcbiAgICAgIGFsbG93ZWRFeHRlbnNpb25zOiBbJy5wcHR4J10sXG4gICAgICBjbGVhbnVwVGhyZXNob2xkSG91cnM6IDI0LFxuICAgIH0sXG4gICAgRmlsZVN0YXRlOiB7XG4gICAgICBVUExPQURFRDogMCxcbiAgICAgIFBST0NFU1NJTkc6IDEsXG4gICAgICBSRUFEWTogMixcbiAgICAgIEFSQ0hJVkVEOiAzLFxuICAgIH0sXG4gICAgRmlsZVBhdGhNYW5hZ2VyOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XG4gICAgICBnZXRUZW1wUGF0aDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigodXNlcklkLCBmaWxlSWQsIHR5cGUgPSAnb3JpZ2luYWwnKSA9PiB7XG4gICAgICAgIHJldHVybiBgdG1wL3VzZXJzLyR7dXNlcklkfS91cGxvYWRzLyR7ZmlsZUlkfV8ke3R5cGV9LnBwdHhgO1xuICAgICAgfSksXG4gICAgICBnZXRQdWJsaWNQYXRoOiBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKCh1c2VySWQsIGZpbGVJZCwgdHlwZSA9ICd0cmFuc2xhdGVkJykgPT4ge1xuICAgICAgICByZXR1cm4gYHVwbG9hZHMvJHt1c2VySWR9LyR7ZmlsZUlkfV8ke3R5cGV9LnBwdHhgO1xuICAgICAgfSksXG4gICAgICBnZXRQcm9jZXNzaW5nUGF0aDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigodXNlcklkLCBmaWxlSWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGB0bXAvcHJvY2Vzc2luZy8ke3VzZXJJZH0vJHtmaWxlSWR9YDtcbiAgICAgIH0pLFxuICAgICAgZ2V0U2xpZGVzUGF0aDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigodXNlcklkLCBmaWxlSWQpID0+IHtcbiAgICAgICAgcmV0dXJuIGB0bXAvdXNlcnMvJHt1c2VySWR9L3NsaWRlcy8ke2ZpbGVJZH1gO1xuICAgICAgfSksXG4gICAgICBnZXRBYnNvbHV0ZVBhdGg6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHBhdGgpID0+IHtcbiAgICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gcGF0aDtcbiAgICAgICAgcmV0dXJuIGAvbW9jay9yb290LyR7cGF0aH1gO1xuICAgICAgfSksXG4gICAgICBlbnN1cmVQYXRoOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICAgIGZpbmRBY3R1YWxGaWxlUGF0aDogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigodXNlcklkLCBmaWxlSWQsIHR5cGUpID0+IHtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdvcmlnaW5hbCcpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGB0bXAvdXNlcnMvJHt1c2VySWR9L3VwbG9hZHMvJHtmaWxlSWR9X29yaWdpbmFsLnBwdHhgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGB0bXAvdXNlcnMvJHt1c2VySWR9L3VwbG9hZHMvJHtmaWxlSWR9X3RyYW5zbGF0ZWQucHB0eGApO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIG1vdmVGaWxlOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKSxcbiAgICAgIGVuc3VyZVB1YmxpY0RpcmVjdG9yeTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgICBtb3ZlVG9QdWJsaWM6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgndXBsb2Fkcy90ZXN0LXVzZXIvdGVzdC1maWxlLnBwdHgnKSxcbiAgICB9KSksXG4gICAgY3JlYXRlVXNlckRpcmVjdG9yaWVzOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgdXBsb2FkRGlyOiAnL21vY2svcm9vdC90bXAvdXNlcnMvdGVzdC11c2VyL3VwbG9hZHMnLFxuICAgICAgc2xpZGVzRGlyOiAnL21vY2svcm9vdC90bXAvdXNlcnMvdGVzdC11c2VyL3NsaWRlcy90ZXN0LWZpbGUnLFxuICAgIH0pLFxuICAgIGNsZWFudXBPbGRGaWxlczogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgZ2VuZXJhdGVGaWxlSWQ6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoJ21vY2stZmlsZS1pZCcpLFxuICAgIHdpdGhSZXRyeTogamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbihhc3luYyAoZm4sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgY29uc3QgeyBtYXhSZXRyaWVzID0gMywgZGVsYXkgPSAxMDAsIG9uRXJyb3IgfSA9IG9wdGlvbnM7XG4gICAgICBsZXQgbGFzdEVycm9yO1xuICAgICAgXG4gICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IG1heFJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBhd2FpdCBmbigpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgICAgIGlmIChvbkVycm9yKSBvbkVycm9yKGVycm9yLCBhdHRlbXB0KTtcbiAgICAgICAgICBpZiAoYXR0ZW1wdCA8IG1heFJldHJpZXMgLSAxKSB7XG4gICAgICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgdGhyb3cgbGFzdEVycm9yO1xuICAgIH0pLFxuICB9O1xufSk7XG5cbmRlc2NyaWJlKCdGaWxlIFV0aWxpdGllcycsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGaWxlUGF0aE1hbmFnZXInLCAoKSA9PiB7XG4gICAgY29uc3QgZmlsZVBhdGhNYW5hZ2VyID0gbmV3IEZpbGVQYXRoTWFuYWdlcigpO1xuICAgIGNvbnN0IHVzZXJJZCA9ICd0ZXN0LXVzZXInO1xuICAgIGNvbnN0IGZpbGVJZCA9ICd0ZXN0LWZpbGUnO1xuXG4gICAgaXQoJ2dldFRlbXBQYXRo44GM5q2j44GX44GE44OR44K544KS6L+U44GZJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gZmlsZVBhdGhNYW5hZ2VyLmdldFRlbXBQYXRoKHVzZXJJZCwgZmlsZUlkLCAnb3JpZ2luYWwnKTtcbiAgICAgIGNvbnN0IHRyYW5zbGF0ZWRQYXRoID0gZmlsZVBhdGhNYW5hZ2VyLmdldFRlbXBQYXRoKHVzZXJJZCwgZmlsZUlkLCAndHJhbnNsYXRlZCcpO1xuXG4gICAgICBleHBlY3Qob3JpZ2luYWxQYXRoKS50b0JlKGpvaW4oJ3RtcC91c2VycycsIHVzZXJJZCwgJ3VwbG9hZHMnLCBgJHtmaWxlSWR9X29yaWdpbmFsLnBwdHhgKSk7XG4gICAgICBleHBlY3QodHJhbnNsYXRlZFBhdGgpLnRvQmUoam9pbigndG1wL3VzZXJzJywgdXNlcklkLCAndXBsb2FkcycsIGAke2ZpbGVJZH1fdHJhbnNsYXRlZC5wcHR4YCkpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRoTWFuYWdlci5nZXRUZW1wUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2dldFB1YmxpY1BhdGjjgYzmraPjgZfjgYTjg5HjgrnjgpLov5TjgZknLCAoKSA9PiB7XG4gICAgICBjb25zdCBvcmlnaW5hbFBhdGggPSBmaWxlUGF0aE1hbmFnZXIuZ2V0UHVibGljUGF0aCh1c2VySWQsIGZpbGVJZCwgJ29yaWdpbmFsJyk7XG4gICAgICBjb25zdCB0cmFuc2xhdGVkUGF0aCA9IGZpbGVQYXRoTWFuYWdlci5nZXRQdWJsaWNQYXRoKHVzZXJJZCwgZmlsZUlkLCAndHJhbnNsYXRlZCcpO1xuXG4gICAgICBleHBlY3Qob3JpZ2luYWxQYXRoKS50b0JlKGpvaW4oJ3VwbG9hZHMnLCB1c2VySWQsIGAke2ZpbGVJZH1fb3JpZ2luYWwucHB0eGApKTtcbiAgICAgIGV4cGVjdCh0cmFuc2xhdGVkUGF0aCkudG9CZShqb2luKCd1cGxvYWRzJywgdXNlcklkLCBgJHtmaWxlSWR9X3RyYW5zbGF0ZWQucHB0eGApKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aE1hbmFnZXIuZ2V0UHVibGljUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2dldFByb2Nlc3NpbmdQYXRo44GM5q2j44GX44GE44OR44K544KS6L+U44GZJywgKCkgPT4ge1xuICAgICAgY29uc3QgcHJvY2Vzc2luZ1BhdGggPSBmaWxlUGF0aE1hbmFnZXIuZ2V0UHJvY2Vzc2luZ1BhdGgodXNlcklkLCBmaWxlSWQpO1xuXG4gICAgICBleHBlY3QocHJvY2Vzc2luZ1BhdGgpLnRvQmUoam9pbigndG1wL3Byb2Nlc3NpbmcnLCB1c2VySWQsIGZpbGVJZCkpO1xuICAgICAgZXhwZWN0KGZpbGVQYXRoTWFuYWdlci5nZXRQcm9jZXNzaW5nUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2dldFNsaWRlc1BhdGjjgYzmraPjgZfjgYTjg5HjgrnjgpLov5TjgZknLCAoKSA9PiB7XG4gICAgICBjb25zdCBzbGlkZXNQYXRoID0gZmlsZVBhdGhNYW5hZ2VyLmdldFNsaWRlc1BhdGgodXNlcklkLCBmaWxlSWQpO1xuXG4gICAgICBleHBlY3Qoc2xpZGVzUGF0aCkudG9CZShqb2luKCd0bXAvdXNlcnMnLCB1c2VySWQsICdzbGlkZXMnLCBmaWxlSWQpKTtcbiAgICAgIGV4cGVjdChmaWxlUGF0aE1hbmFnZXIuZ2V0U2xpZGVzUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2dldEFic29sdXRlUGF0aOOBjOebuOWvvuODkeOCueOCkue1tuWvvuODkeOCueOBq+WkieaPm+OBmeOCiycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbGF0aXZlUGF0aCA9ICd1cGxvYWRzL3Rlc3QtZmlsZS5wcHR4JztcbiAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IGZpbGVQYXRoTWFuYWdlci5nZXRBYnNvbHV0ZVBhdGgocmVsYXRpdmVQYXRoKTtcblxuICAgICAgZXhwZWN0KGFic29sdXRlUGF0aCkudG9CZShqb2luKCcvbW9jay9yb290JywgcmVsYXRpdmVQYXRoKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhNYW5hZ2VyLmdldEFic29sdXRlUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2dldEFic29sdXRlUGF0aOOBjOe1tuWvvuODkeOCueOCkuOBneOBruOBvuOBvui/lOOBmScsICgpID0+IHtcbiAgICAgIGNvbnN0IGFic29sdXRlUGF0aCA9ICcvYWJzb2x1dGUvcGF0aC90by9maWxlLnBwdHgnO1xuICAgICAgY29uc3QgcmVzdWx0ID0gZmlsZVBhdGhNYW5hZ2VyLmdldEFic29sdXRlUGF0aChhYnNvbHV0ZVBhdGgpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKGFic29sdXRlUGF0aCk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhNYW5hZ2VyLmdldEFic29sdXRlUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2Vuc3VyZVBhdGjjgYzjg4fjgqPjg6zjgq/jg4jjg6rjgpLkvZzmiJDjgZnjgosnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlUGF0aCA9ICd1cGxvYWRzL3Rlc3QtdXNlci90ZXN0LWZpbGUucHB0eCc7XG5cbiAgICAgIGF3YWl0IGZpbGVQYXRoTWFuYWdlci5lbnN1cmVQYXRoKGZpbGVQYXRoKTtcblxuICAgICAgZXhwZWN0KGZpbGVQYXRoTWFuYWdlci5lbnN1cmVQYXRoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChmaWxlUGF0aCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZmluZEFjdHVhbEZpbGVQYXRo44GM5q2j44GX44GE44OV44Kh44Kk44Or44KS6KaL44Gk44GR44KLJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gYXdhaXQgZmlsZVBhdGhNYW5hZ2VyLmZpbmRBY3R1YWxGaWxlUGF0aCh1c2VySWQsIGZpbGVJZCwgJ29yaWdpbmFsJyk7XG4gICAgICBjb25zdCB0cmFuc2xhdGVkUGF0aCA9IGF3YWl0IGZpbGVQYXRoTWFuYWdlci5maW5kQWN0dWFsRmlsZVBhdGgodXNlcklkLCBmaWxlSWQsICd0cmFuc2xhdGVkJyk7XG5cbiAgICAgIGV4cGVjdChvcmlnaW5hbFBhdGgpLnRvQmUoam9pbigndG1wL3VzZXJzJywgdXNlcklkLCAndXBsb2FkcycsIGAke2ZpbGVJZH1fb3JpZ2luYWwucHB0eGApKTtcbiAgICAgIGV4cGVjdCh0cmFuc2xhdGVkUGF0aCkudG9CZShqb2luKCd0bXAvdXNlcnMnLCB1c2VySWQsICd1cGxvYWRzJywgYCR7ZmlsZUlkfV90cmFuc2xhdGVkLnBwdHhgKSk7XG4gICAgICBleHBlY3QoZmlsZVBhdGhNYW5hZ2VyLmZpbmRBY3R1YWxGaWxlUGF0aCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnVXRpbGl0eSBGdW5jdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ2dlbmVyYXRlRmlsZUlk44GM44Om44OL44O844Kv44GqSUTjgpLnlJ/miJDjgZnjgosnLCAoKSA9PiB7XG4gICAgICBjb25zdCBmaWxlSWQgPSBnZW5lcmF0ZUZpbGVJZCgpO1xuXG4gICAgICBleHBlY3QoZmlsZUlkKS50b0JlKCdtb2NrLWZpbGUtaWQnKTtcbiAgICAgIGV4cGVjdChnZW5lcmF0ZUZpbGVJZCkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2NyZWF0ZVVzZXJEaXJlY3Rvcmllc+OBjOODh+OCo+ODrOOCr+ODiOODquOCkuS9nOaIkOOBmeOCiycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZVVzZXJEaXJlY3RvcmllcygndGVzdC11c2VyJywgJ3Rlc3QtZmlsZScpO1xuXG4gICAgICBleHBlY3QocmVzdWx0KS50b0VxdWFsKHtcbiAgICAgICAgdXBsb2FkRGlyOiAnL21vY2svcm9vdC90bXAvdXNlcnMvdGVzdC11c2VyL3VwbG9hZHMnLFxuICAgICAgICBzbGlkZXNEaXI6ICcvbW9jay9yb290L3RtcC91c2Vycy90ZXN0LXVzZXIvc2xpZGVzL3Rlc3QtZmlsZScsXG4gICAgICB9KTtcbiAgICAgIGV4cGVjdChjcmVhdGVVc2VyRGlyZWN0b3JpZXMpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCd0ZXN0LXVzZXInLCAndGVzdC1maWxlJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnY2xlYW51cE9sZEZpbGVz44GM5Y+k44GE44OV44Kh44Kk44Or44KS5YmK6Zmk44GZ44KLJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgY2xlYW51cE9sZEZpbGVzKCd0ZXN0LXVzZXInKTtcblxuICAgICAgZXhwZWN0KGNsZWFudXBPbGRGaWxlcykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ3Rlc3QtdXNlcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3dpdGhSZXRyeeOBjOaIkOWKn+OBmeOCi+OBvuOBp+WGjeippuihjOOBmeOCiycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG9wZXJhdGlvbiA9IGplc3RcbiAgICAgICAgLmZuKClcbiAgICAgICAgLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoJ0ZpcnN0IGF0dGVtcHQgZmFpbGVkJykpXG4gICAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdTZWNvbmQgYXR0ZW1wdCBmYWlsZWQnKSlcbiAgICAgICAgLm1vY2tSZXNvbHZlZFZhbHVlT25jZSgnU3VjY2VzcycpO1xuXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoUmV0cnkob3BlcmF0aW9uLCB7XG4gICAgICAgIG1heFJldHJpZXM6IDMsXG4gICAgICAgIGRlbGF5OiAwLFxuICAgICAgICBvbkVycm9yOiBqZXN0LmZuKCksXG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG9wZXJhdGlvbikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDMpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnU3VjY2VzcycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3dpdGhSZXRyeeOBjOacgOWkp+ippuihjOWbnuaVsOOCkui2heOBiOOCi+OBqOOCqOODqeODvOOCkuOCueODreODvOOBmeOCiycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKCdPcGVyYXRpb24gZmFpbGVkJyk7XG4gICAgICBjb25zdCBvcGVyYXRpb24gPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUoZXJyb3IpO1xuXG4gICAgICBhd2FpdCBleHBlY3QoXG4gICAgICAgIHdpdGhSZXRyeShvcGVyYXRpb24sIHtcbiAgICAgICAgICBtYXhSZXRyaWVzOiAyLFxuICAgICAgICAgIGRlbGF5OiAwLFxuICAgICAgICAgIG9uRXJyb3I6IGplc3QuZm4oKSxcbiAgICAgICAgfSksXG4gICAgICApLnJlamVjdHMudG9UaHJvdygnT3BlcmF0aW9uIGZhaWxlZCcpO1xuXG4gICAgICBleHBlY3Qob3BlcmF0aW9uKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdGaWxlU3RhdGUgRW51bScsICgpID0+IHtcbiAgICBpdCgnRmlsZVN0YXRl44GM5q2j44GX44GE5YCk44KS5oyB44GkJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KEZpbGVTdGF0ZS5VUExPQURFRCkudG9CZSgwKTtcbiAgICAgIGV4cGVjdChGaWxlU3RhdGUuUFJPQ0VTU0lORykudG9CZSgxKTtcbiAgICAgIGV4cGVjdChGaWxlU3RhdGUuUkVBRFkpLnRvQmUoMik7XG4gICAgICBleHBlY3QoRmlsZVN0YXRlLkFSQ0hJVkVEKS50b0JlKDMpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnRmlsZVBhdGhNYW5hZ2VyIEltcGxlbWVudGF0aW9uIFRlc3RzJywgKCkgPT4ge1xuICAvLyDjgqrjg6rjgrjjg4rjg6vjga5GaWxlUGF0aE1hbmFnZXLjgpLlho3lrp/oo4VcbiAgY2xhc3MgVGVzdEZpbGVQYXRoTWFuYWdlciB7XG4gICAgZ2V0VGVtcFBhdGgodXNlcklkOiBzdHJpbmcsIGZpbGVJZDogc3RyaW5nLCB0eXBlOiBzdHJpbmcgPSAnb3JpZ2luYWwnKSB7XG4gICAgICByZXR1cm4gam9pbihGSUxFX0NPTkZJRy50ZW1wRGlyLCB1c2VySWQsICd1cGxvYWRzJywgYCR7ZmlsZUlkfV8ke3R5cGV9LnBwdHhgKTtcbiAgICB9XG4gICAgXG4gICAgZ2V0UHVibGljUGF0aCh1c2VySWQ6IHN0cmluZywgZmlsZUlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZyA9ICd0cmFuc2xhdGVkJykge1xuICAgICAgcmV0dXJuIGpvaW4oRklMRV9DT05GSUcucHVibGljRGlyLCB1c2VySWQsIGAke2ZpbGVJZH1fJHt0eXBlfS5wcHR4YCk7XG4gICAgfVxuICAgIFxuICAgIGdldFByb2Nlc3NpbmdQYXRoKHVzZXJJZDogc3RyaW5nLCBmaWxlSWQ6IHN0cmluZykge1xuICAgICAgcmV0dXJuIGpvaW4oRklMRV9DT05GSUcucHJvY2Vzc2luZ0RpciwgdXNlcklkLCBmaWxlSWQpO1xuICAgIH1cbiAgICBcbiAgICBnZXRTbGlkZXNQYXRoKHVzZXJJZDogc3RyaW5nLCBmaWxlSWQ6IHN0cmluZykge1xuICAgICAgcmV0dXJuIGpvaW4oRklMRV9DT05GSUcudGVtcERpciwgdXNlcklkLCBmaWxlSWQsICdzbGlkZXMnKTtcbiAgICB9XG4gICAgXG4gICAgZ2V0QWJzb2x1dGVQYXRoKHBhdGg6IHN0cmluZykge1xuICAgICAgaWYgKHBhdGguc3RhcnRzV2l0aCgnLycpKSByZXR1cm4gcGF0aDtcbiAgICAgIHJldHVybiBqb2luKCcvbW9jay9yb290JywgcGF0aCk7XG4gICAgfVxuICB9XG4gIFxuICBjb25zdCBGaWxlUGF0aE1hbmFnZXIgPSBUZXN0RmlsZVBhdGhNYW5hZ2VyO1xuXG4gIC8vIOODhuOCueODiOeUqOOBruOCpOODs+OCueOCv+ODs+OCueOCkuS9nOaIkFxuICBjb25zdCBtYW5hZ2VyID0gbmV3IEZpbGVQYXRoTWFuYWdlcigpO1xuICBjb25zdCB1c2VySWQgPSAndGVzdC11c2VyJztcbiAgY29uc3QgZmlsZUlkID0gJ3Rlc3QtZmlsZSc7XG5cbiAgLy8gZnPjg6Ljgrjjg6Xjg7zjg6vjga7jg6Ljg4Pjgq/jgpLoqK3lrppcbiAgY29uc3QgbW9ja01rZGlyID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gIGNvbnN0IG1vY2tSZWFkZGlyID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKFtgJHtmaWxlSWR9LnBwdHhgLCBgJHtmaWxlSWR9X3RyYW5zbGF0ZWQucHB0eGBdKTtcbiAgY29uc3QgbW9ja0NvcHlGaWxlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG5cbiAgLy8g44Oi44OD44Kv44KS5LiK5pu444GNXG4gIGplc3QubW9jayhcbiAgICAnZnMvcHJvbWlzZXMnLFxuICAgICgpID0+ICh7XG4gICAgICBta2RpcjogbW9ja01rZGlyLFxuICAgICAgcmVhZGRpcjogbW9ja1JlYWRkaXIsXG4gICAgICBjb3B5RmlsZTogbW9ja0NvcHlGaWxlLFxuICAgICAgc3RhdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHsgbXRpbWVNczogRGF0ZS5ub3coKSB9KSxcbiAgICAgIHVubGluazogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCksXG4gICAgfSksXG4gICAgeyB2aXJ0dWFsOiB0cnVlIH0sXG4gICk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgLy8g44Oi44OD44Kv44KS44Oq44K744OD44OIXG4gICAgbW9ja01rZGlyLm1vY2tDbGVhcigpO1xuICAgIG1vY2tSZWFkZGlyLm1vY2tDbGVhcigpO1xuICAgIG1vY2tDb3B5RmlsZS5tb2NrQ2xlYXIoKTtcbiAgfSk7XG5cbiAgaXQoJ2dldFRlbXBQYXRo44GM5q2j44GX44GE44OR44K544KS6L+U44GZ77yI5a6f6KOF77yJJywgKCkgPT4ge1xuICAgIGNvbnN0IG9yaWdpbmFsUGF0aCA9IG1hbmFnZXIuZ2V0VGVtcFBhdGgodXNlcklkLCBmaWxlSWQsICdvcmlnaW5hbCcpO1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRQYXRoID0gbWFuYWdlci5nZXRUZW1wUGF0aCh1c2VySWQsIGZpbGVJZCwgJ3RyYW5zbGF0ZWQnKTtcblxuICAgIGV4cGVjdChvcmlnaW5hbFBhdGgpLnRvQmUoam9pbihGSUxFX0NPTkZJRy50ZW1wRGlyLCB1c2VySWQsICd1cGxvYWRzJywgYCR7ZmlsZUlkfV9vcmlnaW5hbC5wcHR4YCkpO1xuICAgIGV4cGVjdCh0cmFuc2xhdGVkUGF0aCkudG9CZShqb2luKEZJTEVfQ09ORklHLnRlbXBEaXIsIHVzZXJJZCwgJ3VwbG9hZHMnLCBgJHtmaWxlSWR9X3RyYW5zbGF0ZWQucHB0eGApKTtcbiAgfSk7XG5cbiAgaXQoJ2dldFB1YmxpY1BhdGjjgYzmraPjgZfjgYTjg5HjgrnjgpLov5TjgZnvvIjlrp/oo4XvvIknLCAoKSA9PiB7XG4gICAgY29uc3Qgb3JpZ2luYWxQYXRoID0gbWFuYWdlci5nZXRQdWJsaWNQYXRoKHVzZXJJZCwgZmlsZUlkLCAnb3JpZ2luYWwnKTtcbiAgICBjb25zdCB0cmFuc2xhdGVkUGF0aCA9IG1hbmFnZXIuZ2V0UHVibGljUGF0aCh1c2VySWQsIGZpbGVJZCwgJ3RyYW5zbGF0ZWQnKTtcblxuICAgIGV4cGVjdChvcmlnaW5hbFBhdGgpLnRvQmUoam9pbigndXBsb2FkcycsIHVzZXJJZCwgYCR7ZmlsZUlkfV9vcmlnaW5hbC5wcHR4YCkpO1xuICAgIGV4cGVjdCh0cmFuc2xhdGVkUGF0aCkudG9CZShqb2luKCd1cGxvYWRzJywgdXNlcklkLCBgJHtmaWxlSWR9X3RyYW5zbGF0ZWQucHB0eGApKTtcbiAgfSk7XG5cbiAgaXQoJ2dldFByb2Nlc3NpbmdQYXRo44GM5q2j44GX44GE44OR44K544KS6L+U44GZ77yI5a6f6KOF77yJJywgKCkgPT4ge1xuICAgIGNvbnN0IHByb2Nlc3NpbmdQYXRoID0gbWFuYWdlci5nZXRQcm9jZXNzaW5nUGF0aCh1c2VySWQsIGZpbGVJZCk7XG5cbiAgICBleHBlY3QocHJvY2Vzc2luZ1BhdGgpLnRvQmUoam9pbihGSUxFX0NPTkZJRy5wcm9jZXNzaW5nRGlyLCB1c2VySWQsIGZpbGVJZCkpO1xuICB9KTtcblxuICBpdCgnZ2V0U2xpZGVzUGF0aOOBjOato+OBl+OBhOODkeOCueOCkui/lOOBme+8iOWun+ijhe+8iScsICgpID0+IHtcbiAgICBjb25zdCBzbGlkZXNQYXRoID0gbWFuYWdlci5nZXRTbGlkZXNQYXRoKHVzZXJJZCwgZmlsZUlkKTtcblxuICAgIGV4cGVjdChzbGlkZXNQYXRoKS50b0JlKGpvaW4oRklMRV9DT05GSUcudGVtcERpciwgdXNlcklkLCBmaWxlSWQsICdzbGlkZXMnKSk7XG4gIH0pO1xuXG4gIGl0KCdnZXRBYnNvbHV0ZVBhdGjjgYznm7jlr77jg5HjgrnjgpLntbblr77jg5HjgrnjgavlpInmj5vjgZnjgovvvIjlrp/oo4XvvIknLCAoKSA9PiB7XG4gICAgY29uc3QgcmVsYXRpdmVQYXRoID0gJ3VwbG9hZHMvdGVzdC1maWxlLnBwdHgnO1xuICAgIGNvbnN0IGFic29sdXRlUGF0aCA9IG1hbmFnZXIuZ2V0QWJzb2x1dGVQYXRoKHJlbGF0aXZlUGF0aCk7XG5cbiAgICBleHBlY3QoYWJzb2x1dGVQYXRoKS50b0JlKGpvaW4ocHJvY2Vzcy5jd2QoKSwgcmVsYXRpdmVQYXRoKSk7XG4gIH0pO1xuXG4gIGl0KCdnZXRBYnNvbHV0ZVBhdGjjgYzntbblr77jg5HjgrnjgpLjgZ3jga7jgb7jgb7ov5TjgZnvvIjlrp/oo4XvvIknLCAoKSA9PiB7XG4gICAgY29uc3QgYWJzb2x1dGVQYXRoID0gJy9hYnNvbHV0ZS9wYXRoL3RvL2ZpbGUucHB0eCc7XG4gICAgY29uc3QgcmVzdWx0ID0gbWFuYWdlci5nZXRBYnNvbHV0ZVBhdGgoYWJzb2x1dGVQYXRoKTtcblxuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoYWJzb2x1dGVQYXRoKTtcbiAgfSk7XG59KTtcblxuLy8gbG9nRmlsZU9wZXJhdGlvbuOBruODhuOCueODiFxuZGVzY3JpYmUoJ2xvZ0ZpbGVPcGVyYXRpb24gVGVzdHMnLCAoKSA9PiB7XG4gIC8vIHByaXNtYeODouODg+OCr+OBruWGjeWumue+qVxuICBjb25zdCBtb2NrQ3JlYXRlID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHt9KTtcbiAgXG4gIC8vIHByaXNtYeODouODg+OCr+OCkuioreWumlxuICBqZXN0Lm1vY2soJ0AvbGliL2RiL3ByaXNtYScsICgpID0+ICh7XG4gICAgcHJpc21hOiB7XG4gICAgICBhY3Rpdml0eUxvZzoge1xuICAgICAgICBjcmVhdGU6IG1vY2tDcmVhdGUsXG4gICAgICB9LFxuICAgIH0sXG4gIH0pKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICBtb2NrQ3JlYXRlLm1vY2tDbGVhcigpO1xuICB9KTtcblxuICBpdCgn5oiQ5Yqf44GX44Gf5pON5L2c44KS6KiY6Yyy44GZ44KLJywgYXN5bmMgKCkgPT4ge1xuICAgIC8vIGxvZ0ZpbGVPcGVyYXRpb27plqLmlbDjgpLlho3lrp/oo4VcbiAgICBjb25zdCBsb2dGaWxlT3BlcmF0aW9uID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nLCBvcGVyYXRpb246IHN0cmluZywgZmlsZUlkOiBzdHJpbmcsIHN1Y2Nlc3M6IGJvb2xlYW4sIGVycm9yTXNnOiBzdHJpbmcgPSAnJykgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgbW9ja0NyZWF0ZSh7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgdXNlcklkLFxuICAgICAgICAgICAgdHlwZTogYGZpbGVfJHtvcGVyYXRpb259YCxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBgRmlsZSAke29wZXJhdGlvbn0gb3BlcmF0aW9uYCxcbiAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgIGZpbGVJZCxcbiAgICAgICAgICAgICAgc3VjY2VzcyxcbiAgICAgICAgICAgICAgZXJyb3I6IGVycm9yTXNnIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdGaWxlIG9wZXJhdGlvbiBsb2dnaW5nIGVycm9yOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgdXNlcklkID0gJ3Rlc3QtdXNlcic7XG4gICAgY29uc3QgZmlsZUlkID0gJ3Rlc3QtZmlsZSc7XG4gICAgY29uc3Qgb3BlcmF0aW9uID0gJ2NyZWF0ZSc7XG5cbiAgICBhd2FpdCBsb2dGaWxlT3BlcmF0aW9uKHVzZXJJZCwgb3BlcmF0aW9uLCBmaWxlSWQsIHRydWUpO1xuXG4gICAgZXhwZWN0KG1vY2tDcmVhdGUpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcbiAgICBleHBlY3QobW9ja0NyZWF0ZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgIGRhdGE6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgdHlwZTogJ2ZpbGVfdXBsb2FkJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogZXhwZWN0LnN0cmluZ0NvbnRhaW5pbmcoJ2NyZWF0ZScpLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCflpLHmlZfjgZfjgZ/mk43kvZzjgajjgqjjg6njg7zjgpLoqJjpjLLjgZnjgosnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gbG9nRmlsZU9wZXJhdGlvbumWouaVsOOCkuWGjeWun+ijhVxuICAgIGNvbnN0IGxvZ0ZpbGVPcGVyYXRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIG9wZXJhdGlvbjogc3RyaW5nLCBmaWxlSWQ6IHN0cmluZywgc3VjY2VzczogYm9vbGVhbiwgZXJyb3JNc2c6IHN0cmluZyA9ICcnKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtb2NrQ3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICB0eXBlOiBgZmlsZV8ke29wZXJhdGlvbn1gLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBGaWxlICR7b3BlcmF0aW9ufSBvcGVyYXRpb25gLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgZmlsZUlkLFxuICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNc2cgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgb3BlcmF0aW9uIGxvZ2dpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCB1c2VySWQgPSAndGVzdC11c2VyJztcbiAgICBjb25zdCBmaWxlSWQgPSAndGVzdC1maWxlJztcbiAgICBjb25zdCBvcGVyYXRpb24gPSAnZGVsZXRlJztcbiAgICBjb25zdCBlcnJvck1zZyA9ICdGaWxlIG5vdCBmb3VuZCc7XG5cbiAgICBhd2FpdCBsb2dGaWxlT3BlcmF0aW9uKHVzZXJJZCwgb3BlcmF0aW9uLCBmaWxlSWQsIGZhbHNlLCBlcnJvck1zZyk7XG5cbiAgICBleHBlY3QobW9ja0NyZWF0ZSkudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDEpO1xuICAgIGV4cGVjdChtb2NrQ3JlYXRlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgZGF0YTogZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIHVzZXJJZCxcbiAgICAgICAgICB0eXBlOiAnZmlsZV9kZWxldGUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnZGVsZXRlJyksXG4gICAgICAgICAgbWV0YWRhdGE6IGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICAgIGVycm9yOiBlcnJvck1zZyxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9KSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH0pO1xuXG4gIGl0KCfjg63jgrDoqJjpjLLkuK3jgavjgqjjg6njg7zjgYznmbrnlJ/jgZfjgZ/loLTlkIjjga/jgrPjg7Pjgr3jg7zjg6vjgavjgqjjg6njg7zjgpLlh7rlipvjgZnjgosnLCBhc3luYyAoKSA9PiB7XG4gICAgLy8gbG9nRmlsZU9wZXJhdGlvbumWouaVsOOCkuWGjeWun+ijhVxuICAgIGNvbnN0IGxvZ0ZpbGVPcGVyYXRpb24gPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIG9wZXJhdGlvbjogc3RyaW5nLCBmaWxlSWQ6IHN0cmluZywgc3VjY2VzczogYm9vbGVhbiwgZXJyb3JNc2c6IHN0cmluZyA9ICcnKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBtb2NrQ3JlYXRlKHtcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB1c2VySWQsXG4gICAgICAgICAgICB0eXBlOiBgZmlsZV8ke29wZXJhdGlvbn1gLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGBGaWxlICR7b3BlcmF0aW9ufSBvcGVyYXRpb25gLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgZmlsZUlkLFxuICAgICAgICAgICAgICBzdWNjZXNzLFxuICAgICAgICAgICAgICBlcnJvcjogZXJyb3JNc2cgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZpbGUgb3BlcmF0aW9uIGxvZ2dpbmcgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyDjgrPjg7Pjgr3jg7zjg6vjgqjjg6njg7zjgpLjg6Ljg4Pjgq9cbiAgICBjb25zdCBvcmlnaW5hbENvbnNvbGVFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgY29uc29sZS5lcnJvciA9IGplc3QuZm4oKTtcblxuICAgIC8vIGNyZWF0ZeOBjOOCqOODqeODvOOCkuOCueODreODvOOBmeOCi+OCiOOBhuOBq+ODouODg+OCr1xuICAgIG1vY2tDcmVhdGUubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRGF0YWJhc2UgZXJyb3InKSk7XG5cbiAgICBjb25zdCB1c2VySWQgPSAndGVzdC11c2VyJztcbiAgICBjb25zdCBmaWxlSWQgPSAndGVzdC1maWxlJztcbiAgICBjb25zdCBvcGVyYXRpb24gPSAnYWNjZXNzJztcblxuICAgIC8vIOOCqOODqeODvOOBjOOCueODreODvOOBleOCjOOBquOBhOOBk+OBqOOCkueiuuiqjVxuICAgIGF3YWl0IGV4cGVjdChsb2dGaWxlT3BlcmF0aW9uKHVzZXJJZCwgb3BlcmF0aW9uLCBmaWxlSWQsIHRydWUpKS5yZXNvbHZlcy5ub3QudG9UaHJvdygpO1xuXG4gICAgLy8g44Kz44Oz44K944O844Or44Ko44Op44O844GM5ZG844Gz5Ye644GV44KM44Gf44GT44Go44KS56K66KqNXG4gICAgZXhwZWN0KGNvbnNvbGUuZXJyb3IpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdGaWxlIG9wZXJhdGlvbiBsb2dnaW5nIGVycm9yOicsIGV4cGVjdC5hbnkoRXJyb3IpKTtcblxuICAgIC8vIOWFg+OBq+aIu+OBmVxuICAgIGNvbnNvbGUuZXJyb3IgPSBvcmlnaW5hbENvbnNvbGVFcnJvcjtcbiAgfSk7XG59KTtcblxuLy8g44Om44O844OG44Kj44Oq44OG44Kj6Zai5pWw44Gu44OG44K544OIXG5kZXNjcmliZSgnVXRpbGl0eSBGdW5jdGlvbnMgVGVzdHMnLCAoKSA9PiB7XG4gIC8vIHdhaXTplqLmlbDjgpLlho3lrp/oo4VcbiAgY29uc3Qgd2FpdCA9IChtczogbnVtYmVyKSA9PiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbiAgXG4gIC8vIHdpdGhSZXRyeemWouaVsOOCkuWGjeWun+ijhVxuICBjb25zdCB3aXRoUmV0cnkgPSBhc3luYyAoZm46ICgpID0+IFByb21pc2U8YW55Piwgb3B0aW9uczogeyBtYXhSZXRyaWVzPzogbnVtYmVyOyBkZWxheT86IG51bWJlcjsgb25FcnJvcj86IChlcnJvcjogYW55LCBhdHRlbXB0OiBudW1iZXIpID0+IHZvaWQgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBtYXhSZXRyaWVzID0gMywgZGVsYXkgPSAxMDAsIG9uRXJyb3IgfSA9IG9wdGlvbnM7XG4gICAgbGV0IGxhc3RFcnJvcjogYW55O1xuICAgIFxuICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4UmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxhc3RFcnJvciA9IGVycm9yO1xuICAgICAgICBpZiAob25FcnJvcikgb25FcnJvcihlcnJvciwgYXR0ZW1wdCk7XG4gICAgICAgIGlmIChhdHRlbXB0IDwgbWF4UmV0cmllcyAtIDEpIHtcbiAgICAgICAgICBhd2FpdCB3YWl0KGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB0aHJvdyBsYXN0RXJyb3I7XG4gIH07XG4gIFxuICAvLyBnZW5lcmF0ZUZpbGVJZOmWouaVsOOCkuWGjeWun+ijhVxuICBjb25zdCBnZW5lcmF0ZUZpbGVJZCA9ICgpID0+IHtcbiAgICByZXR1cm4gYHRlc3QtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSl9YDtcbiAgfTtcblxuICBpdCgnd2FpdOOBjOaMh+WumuOBleOCjOOBn+aZgumWk+W+heapn+OBmeOCiycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGF3YWl0IHdhaXQoMTAwKTtcbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKTtcblxuICAgIC8vIOWwkeOBquOBj+OBqOOCgjEwMG1z57WM6YGO44GX44Gm44GE44KL44GT44Go44KS56K66KqN77yI5aSa5bCR44Gu6Kqk5beu44KS6Kix5a6577yJXG4gICAgZXhwZWN0KGVuZFRpbWUgLSBzdGFydFRpbWUpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoOTApO1xuICB9KTtcblxuICBpdCgnd2l0aFJldHJ544GM5oiQ5Yqf44GZ44KL44G+44Gn5YaN6Kmm6KGM44GZ44KLJywgYXN5bmMgKCkgPT4ge1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IGplc3RcbiAgICAgIC5mbigpXG4gICAgICAubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcignRmlyc3QgYXR0ZW1wdCBmYWlsZWQnKSlcbiAgICAgIC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKCdTZWNvbmQgYXR0ZW1wdCBmYWlsZWQnKSlcbiAgICAgIC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2UoJ1N1Y2Nlc3MnKTtcblxuICAgIGNvbnN0IG9uRXJyb3IgPSBqZXN0LmZuKCk7XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB3aXRoUmV0cnkob3BlcmF0aW9uLCB7XG4gICAgICBtYXhSZXRyaWVzOiAzLFxuICAgICAgZGVsYXk6IDEwLFxuICAgICAgb25FcnJvcixcbiAgICB9KTtcblxuICAgIGV4cGVjdChvcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygzKTtcbiAgICBleHBlY3Qob25FcnJvcikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ1N1Y2Nlc3MnKTtcbiAgfSk7XG5cbiAgaXQoJ3dpdGhSZXRyeeOBjOacgOWkp+ippuihjOWbnuaVsOOCkui2heOBiOOCi+OBqOOCqOODqeODvOOCkuOCueODreODvOOBmeOCiycsIGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcignT3BlcmF0aW9uIGZhaWxlZCcpO1xuICAgIGNvbnN0IG9wZXJhdGlvbiA9IGplc3QuZm4oKS5tb2NrUmVqZWN0ZWRWYWx1ZShlcnJvcik7XG4gICAgY29uc3Qgb25FcnJvciA9IGplc3QuZm4oKTtcblxuICAgIGF3YWl0IGV4cGVjdChcbiAgICAgIHdpdGhSZXRyeShvcGVyYXRpb24sIHtcbiAgICAgICAgbWF4UmV0cmllczogMixcbiAgICAgICAgZGVsYXk6IDEwLFxuICAgICAgICBvbkVycm9yLFxuICAgICAgfSksXG4gICAgKS5yZWplY3RzLnRvVGhyb3coJ09wZXJhdGlvbiBmYWlsZWQnKTtcblxuICAgIGV4cGVjdChvcGVyYXRpb24pLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygyKTtcbiAgICBleHBlY3Qob25FcnJvcikudG9IYXZlQmVlbkNhbGxlZFRpbWVzKDIpO1xuICB9KTtcblxuICBpdCgnZ2VuZXJhdGVGaWxlSWTjgYzjg6bjg4vjg7zjgq/jgapJROOCkueUn+aIkOOBmeOCiycsICgpID0+IHtcbiAgICBjb25zdCBmaWxlSWQxID0gZ2VuZXJhdGVGaWxlSWQoKTtcbiAgICBjb25zdCBmaWxlSWQyID0gZ2VuZXJhdGVGaWxlSWQoKTtcblxuICAgIGV4cGVjdCh0eXBlb2YgZmlsZUlkMSkudG9CZSgnc3RyaW5nJyk7XG4gICAgZXhwZWN0KGZpbGVJZDEubGVuZ3RoKS50b0JlR3JlYXRlclRoYW4oMTApO1xuICAgIGV4cGVjdChmaWxlSWQxKS5ub3QudG9CZShmaWxlSWQyKTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJqZXN0IiwibW9jayIsIm1rZGlyIiwiZm4iLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsInVuZGVmaW5lZCIsIndyaXRlRmlsZSIsInJlYWRkaXIiLCJzdGF0IiwibXRpbWVNcyIsIkRhdGUiLCJub3ciLCJ1bmxpbmsiLCJjb3B5RmlsZSIsImV4aXN0c1N5bmMiLCJtb2NrUmV0dXJuVmFsdWUiLCJwcmlzbWEiLCJmaWxlIiwiZmluZFVuaXF1ZSIsImZpbmRNYW55IiwiY3JlYXRlIiwidXBkYXRlIiwiZGVsZXRlIiwiRklMRV9DT05GSUciLCJ0ZW1wRGlyIiwicHVibGljRGlyIiwicHJvY2Vzc2luZ0RpciIsIm1heEZpbGVTaXplIiwiYWxsb3dlZEV4dGVuc2lvbnMiLCJjbGVhbnVwVGhyZXNob2xkSG91cnMiLCJGaWxlU3RhdGUiLCJVUExPQURFRCIsIlBST0NFU1NJTkciLCJSRUFEWSIsIkFSQ0hJVkVEIiwiRmlsZVBhdGhNYW5hZ2VyIiwibW9ja0ltcGxlbWVudGF0aW9uIiwiZ2V0VGVtcFBhdGgiLCJ1c2VySWQiLCJmaWxlSWQiLCJ0eXBlIiwiZ2V0UHVibGljUGF0aCIsImdldFByb2Nlc3NpbmdQYXRoIiwiZ2V0U2xpZGVzUGF0aCIsImdldEFic29sdXRlUGF0aCIsInBhdGgiLCJzdGFydHNXaXRoIiwiZW5zdXJlUGF0aCIsImZpbmRBY3R1YWxGaWxlUGF0aCIsIlByb21pc2UiLCJyZXNvbHZlIiwibW92ZUZpbGUiLCJlbnN1cmVQdWJsaWNEaXJlY3RvcnkiLCJtb3ZlVG9QdWJsaWMiLCJjcmVhdGVVc2VyRGlyZWN0b3JpZXMiLCJ1cGxvYWREaXIiLCJzbGlkZXNEaXIiLCJjbGVhbnVwT2xkRmlsZXMiLCJnZW5lcmF0ZUZpbGVJZCIsIndpdGhSZXRyeSIsIm9wdGlvbnMiLCJtYXhSZXRyaWVzIiwiZGVsYXkiLCJvbkVycm9yIiwibGFzdEVycm9yIiwiYXR0ZW1wdCIsImVycm9yIiwic2V0VGltZW91dCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJmaWxlUGF0aE1hbmFnZXIiLCJpdCIsIm9yaWdpbmFsUGF0aCIsInRyYW5zbGF0ZWRQYXRoIiwiZXhwZWN0IiwidG9CZSIsImpvaW4iLCJ0b0hhdmVCZWVuQ2FsbGVkVGltZXMiLCJwcm9jZXNzaW5nUGF0aCIsInNsaWRlc1BhdGgiLCJyZWxhdGl2ZVBhdGgiLCJhYnNvbHV0ZVBhdGgiLCJyZXN1bHQiLCJmaWxlUGF0aCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidG9FcXVhbCIsIm9wZXJhdGlvbiIsIm1vY2tSZWplY3RlZFZhbHVlT25jZSIsIkVycm9yIiwibW9ja1Jlc29sdmVkVmFsdWVPbmNlIiwibW9ja1JlamVjdGVkVmFsdWUiLCJyZWplY3RzIiwidG9UaHJvdyIsIm1vY2tNa2RpciIsIm1vY2tSZWFkZGlyIiwibW9ja0NvcHlGaWxlIiwidmlydHVhbCIsIlRlc3RGaWxlUGF0aE1hbmFnZXIiLCJtYW5hZ2VyIiwibW9ja0NsZWFyIiwicHJvY2VzcyIsImN3ZCIsImFjdGl2aXR5TG9nIiwibW9ja0NyZWF0ZSIsImxvZ0ZpbGVPcGVyYXRpb24iLCJzdWNjZXNzIiwiZXJyb3JNc2ciLCJkYXRhIiwiZGVzY3JpcHRpb24iLCJtZXRhZGF0YSIsImNvbnNvbGUiLCJvYmplY3RDb250YWluaW5nIiwic3RyaW5nQ29udGFpbmluZyIsIm9yaWdpbmFsQ29uc29sZUVycm9yIiwicmVzb2x2ZXMiLCJub3QiLCJhbnkiLCJ3YWl0IiwibXMiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwidG9CZUdyZWF0ZXJUaGFuT3JFcXVhbCIsImZpbGVJZDEiLCJmaWxlSWQyIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIl0sIm1hcHBpbmdzIjoiO0FBWUEsY0FBYztBQUNkQSxLQUFLQyxJQUFJLENBQUMsZUFBZTtJQUN2QixPQUFPO1FBQ0xDLE9BQU9GLEtBQUtHLEVBQUUsR0FBR0MsaUJBQWlCLENBQUNDO1FBQ25DQyxXQUFXTixLQUFLRyxFQUFFLEdBQUdDLGlCQUFpQixDQUFDQztRQUN2Q0UsU0FBU1AsS0FBS0csRUFBRSxHQUFHQyxpQkFBaUIsQ0FBQztZQUFDO1NBQWE7UUFDbkRJLE1BQU1SLEtBQUtHLEVBQUUs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