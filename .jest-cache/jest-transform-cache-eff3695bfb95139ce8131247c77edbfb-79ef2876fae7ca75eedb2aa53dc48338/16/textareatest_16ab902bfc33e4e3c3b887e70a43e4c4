277547213b876be1665cc851fe0584f9
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _interop_require_default = require("@swc/helpers/_/_interop_require_default");
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default._(require("react"));
const _react1 = require("@testing-library/react");
const _textarea = require("@/components/ui/textarea");
require("@testing-library/jest-dom");
describe('Textarea', ()=>{
    it('正しくレンダリングされること', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            placeholder: "テキストを入力"
        }));
        const textarea = _react1.screen.getByPlaceholderText('テキストを入力');
        expect(textarea).toBeInTheDocument();
        expect(textarea.tagName).toBe('TEXTAREA');
    });
    it('テキスト入力を処理できること', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            placeholder: "テキストを入力"
        }));
        const textarea = _react1.screen.getByPlaceholderText('テキストを入力');
        _react1.fireEvent.change(textarea, {
            target: {
                value: 'テストメッセージ'
            }
        });
        expect(textarea).toHaveValue('テストメッセージ');
    });
    it('追加のクラス名が適用されること', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            className: "custom-class"
        }));
        const textarea = _react1.screen.getByRole('textbox');
        expect(textarea).toHaveClass('custom-class');
    });
    it('禁止状態が正しく反映されること', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            disabled: true
        }));
        const textarea = _react1.screen.getByRole('textbox');
        expect(textarea).toBeDisabled();
    });
    it('読み取り専用状態が正しく反映されること', ()=>{
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            readOnly: true
        }));
        const textarea = _react1.screen.getByRole('textbox');
        expect(textarea).toHaveAttribute('readOnly');
    });
    it('フォームイベントが正しく処理されること', ()=>{
        const handleChange = jest.fn();
        const handleFocus = jest.fn();
        const handleBlur = jest.fn();
        (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_textarea.Textarea, {
            onChange: handleChange,
            onFocus: handleFocus,
            onBlur: handleBlur
        }));
        const textarea = _react1.screen.getByRole('textbox');
        // 変更イベント
        _react1.fireEvent.change(textarea, {
            target: {
                value: 'テストテキスト'
            }
        });
        expect(handleChange).toHaveBeenCalled();
        // フォーカスイベント
        _react1.fireEvent.focus(textarea);
        expect(handleFocus).toHaveBeenCalled();
        // ブラーイベント
        _react1.fireEvent.blur(textarea);
        expect(handleBlur).toHaveBeenCalled();
    });
});
