f8a8c690c9095a52377266cda1bd4321
'use strict';
Object.defineProperty(exports, '__esModule', {
    value: true
});
exports.test = exports.serialize = exports.default = void 0;
var _ansiRegex = _interopRequireDefault(require('ansi-regex'));
var _ansiStyles = _interopRequireDefault(require('ansi-styles'));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
/**
 * Copyright (c) Facebook, Inc. and its affiliates. All Rights Reserved.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ const toHumanReadableAnsi = (text)=>text.replace((0, _ansiRegex.default)(), (match)=>{
        switch(match){
            case _ansiStyles.default.red.close:
            case _ansiStyles.default.green.close:
            case _ansiStyles.default.cyan.close:
            case _ansiStyles.default.gray.close:
            case _ansiStyles.default.white.close:
            case _ansiStyles.default.yellow.close:
            case _ansiStyles.default.bgRed.close:
            case _ansiStyles.default.bgGreen.close:
            case _ansiStyles.default.bgYellow.close:
            case _ansiStyles.default.inverse.close:
            case _ansiStyles.default.dim.close:
            case _ansiStyles.default.bold.close:
            case _ansiStyles.default.reset.open:
            case _ansiStyles.default.reset.close:
                return '</>';
            case _ansiStyles.default.red.open:
                return '<red>';
            case _ansiStyles.default.green.open:
                return '<green>';
            case _ansiStyles.default.cyan.open:
                return '<cyan>';
            case _ansiStyles.default.gray.open:
                return '<gray>';
            case _ansiStyles.default.white.open:
                return '<white>';
            case _ansiStyles.default.yellow.open:
                return '<yellow>';
            case _ansiStyles.default.bgRed.open:
                return '<bgRed>';
            case _ansiStyles.default.bgGreen.open:
                return '<bgGreen>';
            case _ansiStyles.default.bgYellow.open:
                return '<bgYellow>';
            case _ansiStyles.default.inverse.open:
                return '<inverse>';
            case _ansiStyles.default.dim.open:
                return '<dim>';
            case _ansiStyles.default.bold.open:
                return '<bold>';
            default:
                return '';
        }
    });
const test = (val)=>typeof val === 'string' && !!val.match((0, _ansiRegex.default)());
exports.test = test;
const serialize = (val, config, indentation, depth, refs, printer)=>printer(toHumanReadableAnsi(val), config, indentation, depth, refs);
exports.serialize = serialize;
const plugin = {
    serialize,
    test
};
var _default = plugin;
exports.default = _default;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy95dXN1a2V0c3Vub2RhL0RvY3VtZW50cy9jdXJzb3IvcHB0dHJhbnNsYXRvcmFwcC9ub2RlX21vZHVsZXMvcHJldHR5LWZvcm1hdC9idWlsZC9wbHVnaW5zL0NvbnZlcnRBbnNpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLnRlc3QgPSBleHBvcnRzLnNlcmlhbGl6ZSA9IGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9hbnNpUmVnZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoJ2Fuc2ktcmVnZXgnKSk7XG5cbnZhciBfYW5zaVN0eWxlcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgnYW5zaS1zdHlsZXMnKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7ZGVmYXVsdDogb2JqfTtcbn1cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuY29uc3QgdG9IdW1hblJlYWRhYmxlQW5zaSA9IHRleHQgPT5cbiAgdGV4dC5yZXBsYWNlKCgwLCBfYW5zaVJlZ2V4LmRlZmF1bHQpKCksIG1hdGNoID0+IHtcbiAgICBzd2l0Y2ggKG1hdGNoKSB7XG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQucmVkLmNsb3NlOlxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmdyZWVuLmNsb3NlOlxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmN5YW4uY2xvc2U6XG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQuZ3JheS5jbG9zZTpcbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC53aGl0ZS5jbG9zZTpcbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC55ZWxsb3cuY2xvc2U6XG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQuYmdSZWQuY2xvc2U6XG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQuYmdHcmVlbi5jbG9zZTpcbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5iZ1llbGxvdy5jbG9zZTpcbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5pbnZlcnNlLmNsb3NlOlxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmRpbS5jbG9zZTpcbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5ib2xkLmNsb3NlOlxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LnJlc2V0Lm9wZW46XG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQucmVzZXQuY2xvc2U6XG4gICAgICAgIHJldHVybiAnPC8+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LnJlZC5vcGVuOlxuICAgICAgICByZXR1cm4gJzxyZWQ+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmdyZWVuLm9wZW46XG4gICAgICAgIHJldHVybiAnPGdyZWVuPic7XG5cbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5jeWFuLm9wZW46XG4gICAgICAgIHJldHVybiAnPGN5YW4+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmdyYXkub3BlbjpcbiAgICAgICAgcmV0dXJuICc8Z3JheT4nO1xuXG4gICAgICBjYXNlIF9hbnNpU3R5bGVzLmRlZmF1bHQud2hpdGUub3BlbjpcbiAgICAgICAgcmV0dXJuICc8d2hpdGU+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LnllbGxvdy5vcGVuOlxuICAgICAgICByZXR1cm4gJzx5ZWxsb3c+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmJnUmVkLm9wZW46XG4gICAgICAgIHJldHVybiAnPGJnUmVkPic7XG5cbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5iZ0dyZWVuLm9wZW46XG4gICAgICAgIHJldHVybiAnPGJnR3JlZW4+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmJnWWVsbG93Lm9wZW46XG4gICAgICAgIHJldHVybiAnPGJnWWVsbG93Pic7XG5cbiAgICAgIGNhc2UgX2Fuc2lTdHlsZXMuZGVmYXVsdC5pbnZlcnNlLm9wZW46XG4gICAgICAgIHJldHVybiAnPGludmVyc2U+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmRpbS5vcGVuOlxuICAgICAgICByZXR1cm4gJzxkaW0+JztcblxuICAgICAgY2FzZSBfYW5zaVN0eWxlcy5kZWZhdWx0LmJvbGQub3BlbjpcbiAgICAgICAgcmV0dXJuICc8Ym9sZD4nO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9KTtcblxuY29uc3QgdGVzdCA9IHZhbCA9PlxuICB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyAmJiAhIXZhbC5tYXRjaCgoMCwgX2Fuc2lSZWdleC5kZWZhdWx0KSgpKTtcblxuZXhwb3J0cy50ZXN0ID0gdGVzdDtcblxuY29uc3Qgc2VyaWFsaXplID0gKHZhbCwgY29uZmlnLCBpbmRlbnRhdGlvbiwgZGVwdGgsIHJlZnMsIHByaW50ZXIpID0+XG4gIHByaW50ZXIodG9IdW1hblJlYWRhYmxlQW5zaSh2YWwpLCBjb25maWcsIGluZGVudGF0aW9uLCBkZXB0aCwgcmVmcyk7XG5cbmV4cG9ydHMuc2VyaWFsaXplID0gc2VyaWFsaXplO1xuY29uc3QgcGx1Z2luID0ge1xuICBzZXJpYWxpemUsXG4gIHRlc3Rcbn07XG52YXIgX2RlZmF1bHQgPSBwbHVnaW47XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInRlc3QiLCJzZXJpYWxpemUiLCJkZWZhdWx0IiwiX2Fuc2lSZWdleCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2Fuc2lTdHlsZXMiLCJvYmoiLCJfX2VzTW9kdWxlIiwidG9IdW1hblJlYWRhYmxlQW5zaSIsInRleHQiLCJyZXBsYWNlIiwibWF0Y2giLCJyZWQiLCJjbG9zZSIsImdyZWVuIiwiY3lhbiIsImdyYXkiLCJ3aGl0ZSIsInllbGxvdyIsImJnUmVkIiwiYmdHcmVlbiIsImJnWWVsbG93IiwiaW52ZXJzZSIsImRpbSIsImJvbGQiLCJyZXNldCIsIm9wZW4iLCJ2YWwiLCJjb25maWciLCJpbmRlbnRhdGlvbiIsImRlcHRoIiwicmVmcyIsInByaW50ZXIiLCJwbHVnaW4iLCJfZGVmYXVsdCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFFQUEsT0FBT0MsY0FBYyxDQUFDQyxTQUFTLGNBQWM7SUFDM0NDLE9BQU87QUFDVDtBQUNBRCxRQUFRRSxJQUFJLEdBQUdGLFFBQVFHLFNBQVMsR0FBR0gsUUFBUUksT0FBTyxHQUFHLEtBQUs7QUFFMUQsSUFBSUMsYUFBYUMsdUJBQXVCQyxRQUFRO0FBRWhELElBQUlDLGNBQWNGLHVCQUF1QkMsUUFBUTtBQUVqRCxTQUFTRCx1QkFBdUJHLEdBQUc7SUFDakMsT0FBT0EsT0FBT0EsSUFBSUMsVUFBVSxHQUFHRCxNQUFNO1FBQUNMLFNBQVNLO0lBQUc7QUFDcEQ7QUFFQTs7Ozs7Q0FLQyxHQUNELE1BQU1FLHNCQUFzQkMsQ0FBQUEsT0FDMUJBLEtBQUtDLE9BQU8sQ0FBQyxBQUFD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