{"version":3,"file":"accessible-description.js","sources":["../sources/accessible-description.ts"],"sourcesContent":["import {\n\tcomputeTextAlternative,\n\tComputeTextAlternativeOptions,\n} from \"./accessible-name-and-description\";\nimport { queryIdRefs } from \"./util\";\n\n/**\n * @param root\n * @param options\n * @returns\n */\nexport function computeAccessibleDescription(\n\troot: Element,\n\toptions: ComputeTextAlternativeOptions = {}\n): string {\n\tlet description = queryIdRefs(root, \"aria-describedby\")\n\t\t.map((element) => {\n\t\t\treturn computeTextAlternative(element, {\n\t\t\t\t...options,\n\t\t\t\tcompute: \"description\",\n\t\t\t});\n\t\t})\n\t\t.join(\" \");\n\n\t// TODO: Technically we need to make sure that node wasn't used for the accessible name\n\t//       This causes `description_1.0_combobox-focusable-manual` to fail\n\t//\n\t// https://www.w3.org/TR/html-aam-1.0/#accessible-name-and-description-computation\n\t// says for so many elements to use the `title` that we assume all elements are considered\n\tif (description === \"\") {\n\t\tconst title = root.getAttribute(\"title\");\n\t\tdescription = title === null ? \"\" : title;\n\t}\n\n\treturn description;\n}\n"],"names":["computeAccessibleDescription","root","options","description","queryIdRefs","map","element","computeTextAlternative","compute","join","title","getAttribute"],"mappings":"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"}