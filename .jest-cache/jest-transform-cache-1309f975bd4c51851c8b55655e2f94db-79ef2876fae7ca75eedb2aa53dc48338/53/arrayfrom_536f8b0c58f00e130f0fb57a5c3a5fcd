844352d5796273fd740b7d862bee2970
"use strict";
exports.__esModule = true;
exports.default = arrayFrom;
/**
 * @source {https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/from#Polyfill}
 * but without thisArg (too hard to type, no need to `this`)
 */ var toStr = Object.prototype.toString;
function isCallable(fn) {
    return typeof fn === "function" || toStr.call(fn) === "[object Function]";
}
function toInteger(value) {
    var number = Number(value);
    if (isNaN(number)) {
        return 0;
    }
    if (number === 0 || !isFinite(number)) {
        return number;
    }
    return (number > 0 ? 1 : -1) * Math.floor(Math.abs(number));
}
var maxSafeInteger = Math.pow(2, 53) - 1;
function toLength(value) {
    var len = toInteger(value);
    return Math.min(Math.max(len, 0), maxSafeInteger);
}
/**
 * Creates an array from an iterable object.
 * @param iterable An iterable object to convert to an array.
 */ /**
 * Creates an array from an iterable object.
 * @param iterable An iterable object to convert to an array.
 * @param mapfn A mapping function to call on every element of the array.
 * @param thisArg Value of 'this' used to invoke the mapfn.
 */ function arrayFrom(arrayLike, mapFn) {
    // 1. Let C be the this value.
    // edit(@eps1lon): we're not calling it as Array.from
    var C = Array;
    // 2. Let items be ToObject(arrayLike).
    var items = Object(arrayLike);
    // 3. ReturnIfAbrupt(items).
    if (arrayLike == null) {
        throw new TypeError("Array.from requires an array-like object - not null or undefined");
    }
    // 4. If mapfn is undefined, then let mapping be false.
    // const mapFn = arguments.length > 1 ? arguments[1] : void undefined;
    if (typeof mapFn !== "undefined") {
        // 5. else
        // 5. a If IsCallable(mapfn) is false, throw a TypeError exception.
        if (!isCallable(mapFn)) {
            throw new TypeError("Array.from: when provided, the second argument must be a function");
        }
    }
    // 10. Let lenValue be Get(items, "length").
    // 11. Let len be ToLength(lenValue).
    var len = toLength(items.length);
    // 13. If IsConstructor(C) is true, then
    // 13. a. Let A be the result of calling the [[Construct]] internal method
    // of C with an argument list containing the single item len.
    // 14. a. Else, Let A be ArrayCreate(len).
    var A = isCallable(C) ? Object(new C(len)) : new Array(len);
    // 16. Let k be 0.
    var k = 0;
    // 17. Repeat, while k < lenâ€¦ (also steps a - h)
    var kValue;
    while(k < len){
        kValue = items[k];
        if (mapFn) {
            A[k] = mapFn(kValue, k);
        } else {
            A[k] = kValue;
        }
        k += 1;
    }
    // 18. Let putStatus be Put(A, "length", len, true).
    A.length = len;
    // 20. Return A.
    return A;
} //# sourceMappingURL=array.from.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXJyYXkuZnJvbS5qcyIsInNvdXJjZXMiOlsiLi4vLi4vc291cmNlcy9wb2x5ZmlsbHMvYXJyYXkuZnJvbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBzb3VyY2Uge2h0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2Zyb20jUG9seWZpbGx9XG4gKiBidXQgd2l0aG91dCB0aGlzQXJnICh0b28gaGFyZCB0byB0eXBlLCBubyBuZWVkIHRvIGB0aGlzYClcbiAqL1xuY29uc3QgdG9TdHIgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZnVuY3Rpb24gaXNDYWxsYWJsZShmbjogdW5rbm93bik6IGJvb2xlYW4ge1xuXHRyZXR1cm4gdHlwZW9mIGZuID09PSBcImZ1bmN0aW9uXCIgfHwgdG9TdHIuY2FsbChmbikgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIjtcbn1cbmZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZTogdW5rbm93bik6IG51bWJlciB7XG5cdGNvbnN0IG51bWJlciA9IE51bWJlcih2YWx1ZSk7XG5cdGlmIChpc05hTihudW1iZXIpKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblx0aWYgKG51bWJlciA9PT0gMCB8fCAhaXNGaW5pdGUobnVtYmVyKSkge1xuXHRcdHJldHVybiBudW1iZXI7XG5cdH1cblx0cmV0dXJuIChudW1iZXIgPiAwID8gMSA6IC0xKSAqIE1hdGguZmxvb3IoTWF0aC5hYnMobnVtYmVyKSk7XG59XG5jb25zdCBtYXhTYWZlSW50ZWdlciA9IE1hdGgucG93KDIsIDUzKSAtIDE7XG5mdW5jdGlvbiB0b0xlbmd0aCh2YWx1ZTogdW5rbm93bik6IG51bWJlciB7XG5cdGNvbnN0IGxlbiA9IHRvSW50ZWdlcih2YWx1ZSk7XG5cdHJldHVybiBNYXRoLm1pbihNYXRoLm1heChsZW4sIDApLCBtYXhTYWZlSW50ZWdlcik7XG59XG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSBhbiBpdGVyYWJsZSBvYmplY3QuXG4gKiBAcGFyYW0gaXRlcmFibGUgQW4gaXRlcmFibGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gYW4gYXJyYXkuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFycmF5RnJvbTxUPihpdGVyYWJsZTogSXRlcmFibGU8VD4gfCBBcnJheUxpa2U8VD4pOiBUW107XG4vKipcbiAqIENyZWF0ZXMgYW4gYXJyYXkgZnJvbSBhbiBpdGVyYWJsZSBvYmplY3QuXG4gKiBAcGFyYW0gaXRlcmFibGUgQW4gaXRlcmFibGUgb2JqZWN0IHRvIGNvbnZlcnQgdG8gYW4gYXJyYXkuXG4gKiBAcGFyYW0gbWFwZm4gQSBtYXBwaW5nIGZ1bmN0aW9uIHRvIGNhbGwgb24gZXZlcnkgZWxlbWVudCBvZiB0aGUgYXJyYXkuXG4gKiBAcGFyYW0gdGhpc0FyZyBWYWx1ZSBvZiAndGhpcycgdXNlZCB0byBpbnZva2UgdGhlIG1hcGZuLlxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhcnJheUZyb208VCwgVT4oXG5cdGFycmF5TGlrZTogSXRlcmFibGU8VD4gfCBBcnJheUxpa2U8VD4sXG5cdG1hcEZuPzogKHY6IFQsIGs6IG51bWJlcikgPT4gVVxuKTogVVtdIHtcblx0Ly8gMS4gTGV0IEMgYmUgdGhlIHRoaXMgdmFsdWUuXG5cdC8vIGVkaXQoQGVwczFsb24pOiB3ZSdyZSBub3QgY2FsbGluZyBpdCBhcyBBcnJheS5mcm9tXG5cdGNvbnN0IEMgPSBBcnJheTtcblxuXHQvLyAyLiBMZXQgaXRlbXMgYmUgVG9PYmplY3QoYXJyYXlMaWtlKS5cblx0Y29uc3QgaXRlbXMgPSBPYmplY3QoYXJyYXlMaWtlKTtcblxuXHQvLyAzLiBSZXR1cm5JZkFicnVwdChpdGVtcykuXG5cdGlmIChhcnJheUxpa2UgPT0gbnVsbCkge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXG5cdFx0XHRcIkFycmF5LmZyb20gcmVxdWlyZXMgYW4gYXJyYXktbGlrZSBvYmplY3QgLSBub3QgbnVsbCBvciB1bmRlZmluZWRcIlxuXHRcdCk7XG5cdH1cblxuXHQvLyA0LiBJZiBtYXBmbiBpcyB1bmRlZmluZWQsIHRoZW4gbGV0IG1hcHBpbmcgYmUgZmFsc2UuXG5cdC8vIGNvbnN0IG1hcEZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB2b2lkIHVuZGVmaW5lZDtcblxuXHRpZiAodHlwZW9mIG1hcEZuICE9PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0Ly8gNS4gZWxzZVxuXHRcdC8vIDUuIGEgSWYgSXNDYWxsYWJsZShtYXBmbikgaXMgZmFsc2UsIHRocm93IGEgVHlwZUVycm9yIGV4Y2VwdGlvbi5cblx0XHRpZiAoIWlzQ2FsbGFibGUobWFwRm4pKSB7XG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKFxuXHRcdFx0XHRcIkFycmF5LmZyb206IHdoZW4gcHJvdmlkZWQsIHRoZSBzZWNvbmQgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uXCJcblx0XHRcdCk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gMTAuIExldCBsZW5WYWx1ZSBiZSBHZXQoaXRlbXMsIFwibGVuZ3RoXCIpLlxuXHQvLyAxMS4gTGV0IGxlbiBiZSBUb0xlbmd0aChsZW5WYWx1ZSkuXG5cdGNvbnN0IGxlbiA9IHRvTGVuZ3RoKGl0ZW1zLmxlbmd0aCk7XG5cblx0Ly8gMTMuIElmIElzQ29uc3RydWN0b3IoQykgaXMgdHJ1ZSwgdGhlblxuXHQvLyAxMy4gYS4gTGV0IEEgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZFxuXHQvLyBvZiBDIHdpdGggYW4gYXJndW1lbnQgbGlzdCBjb250YWluaW5nIHRoZSBzaW5nbGUgaXRlbSBsZW4uXG5cdC8vIDE0LiBhLiBFbHNlLCBMZXQgQSBiZSBBcnJheUNyZWF0ZShsZW4pLlxuXHRjb25zdCBBID0gaXNDYWxsYWJsZShDKSA/IE9iamVjdChuZXcgQyhsZW4pKSA6IG5ldyBBcnJheShsZW4pO1xuXG5cdC8vIDE2LiBMZXQgayBiZSAwLlxuXHRsZXQgayA9IDA7XG5cdC8vIDE3LiBSZXBlYXQsIHdoaWxlIGsgPCBsZW7igKYgKGFsc28gc3RlcHMgYSAtIGgpXG5cdGxldCBrVmFsdWU7XG5cdHdoaWxlIChrIDwgbGVuKSB7XG5cdFx0a1ZhbHVlID0gaXRlbXNba107XG5cdFx0aWYgKG1hcEZuKSB7XG5cdFx0XHRBW2tdID0gbWFwRm4oa1ZhbHVlLCBrKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0QVtrXSA9IGtWYWx1ZTtcblx0XHR9XG5cdFx0ayArPSAxO1xuXHR9XG5cdC8vIDE4LiBMZXQgcHV0U3RhdHVzIGJlIFB1dChBLCBcImxlbmd0aFwiLCBsZW4sIHRydWUpLlxuXHRBLmxlbmd0aCA9IGxlbjtcblx0Ly8gMjAuIFJldHVybiBBLlxuXHRyZXR1cm4gQTtcbn1cbiJdLCJuYW1lcyI6WyJ0b1N0ciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiaXNDYWxsYWJsZSIsImZuIiwiY2FsbCIsInRvSW50ZWdlciIsInZhbHVlIiwibnVtYmVyIiwiTnVtYmVyIiwiaXNOYU4iLCJpc0Zpbml0ZSIsIk1hdGgiLCJmbG9vciIsImFicyIsIm1heFNhZmVJbnRlZ2VyIiwicG93IiwidG9MZW5ndGgiLCJsZW4iLCJtaW4iLCJtYXgiLCJhcnJheUZyb20iLCJhcnJheUxpa2UiLCJtYXBGbiIsIkMiLCJBcnJheSIsIml0ZW1zIiwiVHlwZUVycm9yIiwibGVuZ3RoIiwiQSIsImsiLCJrVmFsdWUiXSwibWFwcGluZ3MiOiI7OztBQUFBOzs7Q0FHQSxHQUNBLElBQU1BLEtBQUssR0FBR0MsTUFBTSxDQUFDQyxTQUFTLENBQUNDLFFBQVE7QUFDdkMsU0FBU0MsVUFBVSxDQUFDQyxFQUFXLEVBQVc7SUFDekMsT0FBTyxPQUFPQSxFQUFFLEtBQUssVUFBVSxJQUFJTCxLQUFLLENBQUNNLElBQUksQ0FBQ0QsRUFBRSxDQUFDLEtBQUssbUJBQW1CO0FBQzFFO0FBQ0EsU0FBU0Us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