29521ec3b0a16de8a26148030bd2a25a
"use strict";
exports.__esModule = true;
exports.isInaccessible = isInaccessible;
exports.isSubtreeInaccessible = isSubtreeInaccessible;
/**
 * Partial implementation https://www.w3.org/TR/wai-aria-1.2/#tree_exclusion
 * which should only be used for elements with a non-presentational role i.e.
 * `role="none"` and `role="presentation"` will not be excluded.
 *
 * Implements aria-hidden semantics (i.e. parent overrides child)
 * Ignores "Child Presentational: True" characteristics
 *
 * @param element
 * @param options
 * @returns {boolean} true if excluded, otherwise false
 */ function isInaccessible(element) {
    var _element$ownerDocumen;
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _options$getComputedS = options.getComputedStyle, getComputedStyle = _options$getComputedS === void 0 ? (_element$ownerDocumen = element.ownerDocument.defaultView) === null || _element$ownerDocumen === void 0 ? void 0 : _element$ownerDocumen.getComputedStyle : _options$getComputedS, _options$isSubtreeIna = options.isSubtreeInaccessible, isSubtreeInaccessibleImpl = _options$isSubtreeIna === void 0 ? isSubtreeInaccessible : _options$isSubtreeIna;
    if (typeof getComputedStyle !== "function") {
        throw new TypeError("Owner document of the element needs to have an associated window.");
    }
    // since visibility is inherited we can exit early
    if (getComputedStyle(element).visibility === "hidden") {
        return true;
    }
    var currentElement = element;
    while(currentElement){
        if (isSubtreeInaccessibleImpl(currentElement, {
            getComputedStyle: getComputedStyle
        })) {
            return true;
        }
        currentElement = currentElement.parentElement;
    }
    return false;
}
/**
 *
 * @param element
 * @param options
 * @returns {boolean} - `true` if every child of the element is inaccessible
 */ function isSubtreeInaccessible(element) {
    var _element$ownerDocumen2;
    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
    var _options$getComputedS2 = options.getComputedStyle, getComputedStyle = _options$getComputedS2 === void 0 ? (_element$ownerDocumen2 = element.ownerDocument.defaultView) === null || _element$ownerDocumen2 === void 0 ? void 0 : _element$ownerDocumen2.getComputedStyle : _options$getComputedS2;
    if (typeof getComputedStyle !== "function") {
        throw new TypeError("Owner document of the element needs to have an associated window.");
    }
    if (element.hidden === true) {
        return true;
    }
    if (element.getAttribute("aria-hidden") === "true") {
        return true;
    }
    if (getComputedStyle(element).display === "none") {
        return true;
    }
    return false;
} //# sourceMappingURL=is-inaccessible.js.map

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtaW5hY2Nlc3NpYmxlLmpzIiwic291cmNlcyI6WyIuLi9zb3VyY2VzL2lzLWluYWNjZXNzaWJsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgaW50ZXJmYWNlIElzSW5hY2Nlc3NpYmxlT3B0aW9ucyB7XG5cdGdldENvbXB1dGVkU3R5bGU/OiB0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGU7XG5cdC8qKlxuXHQgKiBDYW4gYmUgdXNlZCB0byByZXR1cm4gY2FjaGVkIHJlc3VsdHMgZnJvbSBwcmV2aW91cyBpc1N1YnRyZWVJbmFjY2Vzc2libGUgY2FsbHMuXG5cdCAqL1xuXHRpc1N1YnRyZWVJbmFjY2Vzc2libGU/OiAoZWxlbWVudDogRWxlbWVudCkgPT4gYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBQYXJ0aWFsIGltcGxlbWVudGF0aW9uIGh0dHBzOi8vd3d3LnczLm9yZy9UUi93YWktYXJpYS0xLjIvI3RyZWVfZXhjbHVzaW9uXG4gKiB3aGljaCBzaG91bGQgb25seSBiZSB1c2VkIGZvciBlbGVtZW50cyB3aXRoIGEgbm9uLXByZXNlbnRhdGlvbmFsIHJvbGUgaS5lLlxuICogYHJvbGU9XCJub25lXCJgIGFuZCBgcm9sZT1cInByZXNlbnRhdGlvblwiYCB3aWxsIG5vdCBiZSBleGNsdWRlZC5cbiAqXG4gKiBJbXBsZW1lbnRzIGFyaWEtaGlkZGVuIHNlbWFudGljcyAoaS5lLiBwYXJlbnQgb3ZlcnJpZGVzIGNoaWxkKVxuICogSWdub3JlcyBcIkNoaWxkIFByZXNlbnRhdGlvbmFsOiBUcnVlXCIgY2hhcmFjdGVyaXN0aWNzXG4gKlxuICogQHBhcmFtIGVsZW1lbnRcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBleGNsdWRlZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luYWNjZXNzaWJsZShcblx0ZWxlbWVudDogRWxlbWVudCxcblx0b3B0aW9uczogSXNJbmFjY2Vzc2libGVPcHRpb25zID0ge31cbik6IGJvb2xlYW4ge1xuXHRjb25zdCB7XG5cdFx0Z2V0Q29tcHV0ZWRTdHlsZSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz8uZ2V0Q29tcHV0ZWRTdHlsZSxcblx0XHRpc1N1YnRyZWVJbmFjY2Vzc2libGU6IGlzU3VidHJlZUluYWNjZXNzaWJsZUltcGwgPSBpc1N1YnRyZWVJbmFjY2Vzc2libGUsXG5cdH0gPSBvcHRpb25zO1xuXHRpZiAodHlwZW9mIGdldENvbXB1dGVkU3R5bGUgIT09IFwiZnVuY3Rpb25cIikge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoXG5cdFx0XHRcIk93bmVyIGRvY3VtZW50IG9mIHRoZSBlbGVtZW50IG5lZWRzIHRvIGhhdmUgYW4gYXNzb2NpYXRlZCB3aW5kb3cuXCJcblx0XHQpO1xuXHR9XG5cdC8vIHNpbmNlIHZpc2liaWxpdHkgaXMgaW5oZXJpdGVkIHdlIGNhbiBleGl0IGVhcmx5XG5cdGlmIChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnZpc2liaWxpdHkgPT09IFwiaGlkZGVuXCIpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGxldCBjdXJyZW50RWxlbWVudDogRWxlbWVudCB8IG51bGwgPSBlbGVtZW50O1xuXHR3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcblx0XHRpZiAoaXNTdWJ0cmVlSW5hY2Nlc3NpYmxlSW1wbChjdXJyZW50RWxlbWVudCwgeyBnZXRDb21wdXRlZFN0eWxlIH0pKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHRjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG5cdH1cblxuXHRyZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSXNTdWJ0cmVlSW5hY2Nlc3NpYmxlT3B0aW9ucyB7XG5cdGdldENvbXB1dGVkU3R5bGU/OiB0eXBlb2Ygd2luZG93LmdldENvbXB1dGVkU3R5bGU7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBlbGVtZW50XG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHJldHVybnMge2Jvb2xlYW59IC0gYHRydWVgIGlmIGV2ZXJ5IGNoaWxkIG9mIHRoZSBlbGVtZW50IGlzIGluYWNjZXNzaWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTdWJ0cmVlSW5hY2Nlc3NpYmxlKFxuXHRlbGVtZW50OiBFbGVtZW50LFxuXHRvcHRpb25zOiBJc1N1YnRyZWVJbmFjY2Vzc2libGVPcHRpb25zID0ge31cbik6IGJvb2xlYW4ge1xuXHRjb25zdCB7XG5cdFx0Z2V0Q29tcHV0ZWRTdHlsZSA9IGVsZW1lbnQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldz8uZ2V0Q29tcHV0ZWRTdHlsZSxcblx0fSA9IG9wdGlvbnM7XG5cdGlmICh0eXBlb2YgZ2V0Q29tcHV0ZWRTdHlsZSAhPT0gXCJmdW5jdGlvblwiKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcihcblx0XHRcdFwiT3duZXIgZG9jdW1lbnQgb2YgdGhlIGVsZW1lbnQgbmVlZHMgdG8gaGF2ZSBhbiBhc3NvY2lhdGVkIHdpbmRvdy5cIlxuXHRcdCk7XG5cdH1cblxuXHRpZiAoKGVsZW1lbnQgYXMgSFRNTEVsZW1lbnQpLmhpZGRlbiA9PT0gdHJ1ZSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgPT09IFwidHJ1ZVwiKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5kaXNwbGF5ID09PSBcIm5vbmVcIikge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0cmV0dXJuIGZhbHNlO1xufVxuIl0sIm5hbWVzIjpbImlzSW5hY2Nlc3NpYmxlIiwiZWxlbWVudCIsIm9wdGlvbnMiLCJnZXRDb21wdXRlZFN0eWxlIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiaXNTdWJ0cmVlSW5hY2Nlc3NpYmxlIiwiaXNTdWJ0cmVlSW5hY2Nlc3NpYmxlSW1wbCIsIlR5cGVFcnJvciIsInZpc2liaWxpdHkiLCJjdXJyZW50RWxlbWVudCIsInBhcmVudEVsZW1lbnQiLCJoaWRkZW4iLCJnZXRBdHRyaWJ1dGUiLCJkaXNwbGF5Il0sIm1hcHBpbmdzIjoiOzs7O0FBUUE7Ozs7Ozs7Ozs7O0NBV0EsR0FDTyxTQUFTQSxjQUFjLENBQzdCQyxPQUFnQixFQUVOO0lBQUEsSUFBQTtJQUFBLElBRFZDLE9BQThCLEdBQUEsVUFBQSxNQUFBLEdBQUEsS0FBQSxTQUFBLENBQUEsRUFBQSxLQUFBLFlBQUEsU0FBQSxDQUFBLEVBQUEsR0FBRyxDQUFDLENBQUM7SUFFbkMsSUFBQSx3QkFHSUEsT0FBTyxDQUZWQyxnQkFBZ0IsRUFBaEJBLGdCQUFnQixHQUFBLDBCQUFBLEtBQUEsSUFBQSxDQUFBLHdCQUFHRixPQUFPLENBQUNHLGFBQWEsQ0FBQ0MsV0FBQUEsQUFBVyxNQUFBLFFBQUEsMEJBQUEsS0FBQSxJQUFBLEtBQUEsSUFBakMsc0JBQW1DRixnQkFBZ0IsR0FBQSx1QkFBQSx3QkFFbkVELE9BQU8sQ0FEVkkscUJBQXFCLEVBQUVDLHlCQUF5QixHQUFBLDBCQUFBLEtBQUEsSUFBR0QscUJBQXFCLEdBQUE7SUFFekUsSUFBSSxPQUFPSCxnQkFBZ0IsS0FBSyxVQUFVLEVBQUU7UUFDM0MsTUFBTSxJQUFJSyxTQUFTLENBQ2xCLG1FQUFtRSxDQUNuRTtJQUNGO0lBQ0Esa0RBQUE7SUFDQSxJQUFJTCxnQkFBZ0IsQ0FBQ0YsT0FBTyxDQUFDLENBQUNRLFVBQVUsS0FBSyxRQUFRLEVBQUU7UUFDdEQsT0FBTyxJQUFJO0lBQ1o7SUFFQSxJQUFJQyxjQUE4QixHQUFHVCxPQUFPO0lBQzVDLE1BQU9TLGNBQWMsQ0FBRTtRQUN0QixJQUFJSCx5QkFBeUIsQ0FBQ0csY0FBYyxFQUFFO1lBQUVQLGdCQUFnQixFQUFoQkE7UUFBaUIsQ0FBQyxDQUFDLEVBQUU7WUFDcEUsT0FBTyxJQUFJO1FBQ1o7UUFFQU8sY0FBYyxHQUFHQSxjQUFjLENBQUNDLGFBQWE7SUFDOUM7SUFFQSxPQUFPLEtBQUs7QUFDYjtBQU1BOzs7OztDQUtBLEdBQ08sU0FBU0wscUJBQXFCLENBQ3BDTCxPQUFnQixFQUVOO0lBQUEsSUFBQTtJQUFBLElBRFZDLE9BQXFDLEdBQUEsVUFBQSxNQUFBLEdBQUEsS0FBQSxTQUFBLENBQUEsRUFBQSxLQUFBLFlBQUEsU0FBQSxDQUFBLEVBQUEsR0FBRyxDQUFDLENBQUM7SUFFMUMsSUFBQSx5QkFFSUEsT0FBTyxDQURWQyxnQkFBZ0IsRUFBaEJBLGdCQUFnQixHQUFBLDJCQUFBLEtBQUEsSUFBQSxDQUFBLHlCQUFHRixPQUFPLENBQUNHLGFBQWEsQ0FBQ0MsV0FBQUEsQUFBVyxNQUFBLFFBQUEsMkJBQUEsS0FBQSxJQUFBLEtBQUEsSUFBakMsdUJBQW1DRixnQkFBZ0IsR0FBQTtJQUV2RSxJQUFJLE9BQU9BLGdCQUFnQixLQUFLLFVBQVUsRUFBRTtRQUMzQyxNQUFNLElBQUlLLFNBQVMsQ0FDbEIsbUVBQW1FLENBQ25FO0lBQ0Y7SUFFQSxJQUFLUCxPQUFPLENBQWlCVyxNQUFNLEtBQUssSUFBSSxFQUFFO1FBQzdDLE9BQU8sSUFBSTtJQUNaO0lBRUEsSUFBSVgsT0FBTyxDQUFDWSxZQUFZLENBQUMsYUFBYSxDQUFDLEtBQUssTUFBTSxFQUFFO1FBQ25ELE9BQU8sSUFBSTtJQUNaO0lBRUEsSUFBSVYsZ0JBQWdCLENBQUNGLE9BQU8sQ0FBQyxDQUFDYSxPQUFPLEtBQUssTUFBTSxFQUFFO1FBQ2pELE9BQU8sSUFBSTtJQUNaO0lBRUEsT0FBTyxLQUFLO0FBQ2IifQ==